(()=>{"use strict";var e={147:e=>{e.exports=require("fs")}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,r),o.exports}(()=>{const e=r(147);new class extends class extends class extends class{constructor(){this.routingBucketCondition=(e,t)=>!0,this.assignServerBaseListeners()}RegisterAdminCommand(e,t,r,s){RegisterCommand(e,((e,s,i)=>{Number(global.exports.authentication.getPlayerInfo(e,"adminLevel"))<t||r(e,s,i)}),s)}assignServerBaseListeners(){onNet(`${GetCurrentResourceName()}:set-client-routing-bucket`,((e,t)=>{this.routingBucketCondition(e,t)&&SetEntityRoutingBucket(e,t)}))}}{removeClientsideVehicles(){TriggerClientEvent(`${GetCurrentResourceName()}:ARM_remove-vehicles`,-1)}}{}{constructor(){super(),this._players=[],this.registerCommands(),this.registerFiveMEventListeners(),this.registerListeners(),this.registerExports(),this._players=[];for(let e=0;e<1024;e++)NetworkIsPlayerActive(e)&&this._players.push(e)}registerCommands(){RegisterCommand("pos",((t,r)=>{let s=[],i=[];0!==GetVehiclePedIsIn(GetPlayerPed(t),!0)?(s=GetEntityCoords(GetVehiclePedIsIn(GetPlayerPed(t),!1),!0),i=GetEntityRotation(GetVehiclePedIsIn(GetPlayerPed(t),!1),2)):(s=GetEntityCoords(GetPlayerPed(t),!0),i=GetEntityRotation(GetPlayerPed(t),2));const o=`${s.map((e=>Number(e.toString()).toFixed(4))).join(",")},${i.map((e=>Number(e.toString()))).join(",")}`;console.log(`Source position is ${o}`),e.appendFile("savedpositions.txt",`\n${o} ${r.slice().shift()}`,(()=>{}))}),!1),RegisterCommand("tp",((e,t)=>{switch(t[0]){case"trucker":SetEntityCoords(GetPlayerPed(e),124.60220336914062,-2682.474609375,10.229248046875,!0,!1,!1,!1);break;case"garbageman":SetEntityCoords(GetPlayerPed(e),-267.5868225097656,197.41978454589844,89.22119140625,!0,!1,!1,!1);break;case"carrier":SetEntityCoords(GetPlayerPed(e),-439.8214,-2786.469,8.000384,!0,!1,!1,!1);break;default:console.log("no tp with that name")}}),!1)}registerListeners(){onNet(`${GetCurrentResourceName()}:open-general-menu`,(()=>{global.exports["armoury-overlay"].showContextMenu(source,{title:"General Menu",id:"general-menu",items:[{label:"GPS",active:!0},{label:"Legitimation"}]})})),onNet(`${GetCurrentResourceName()}:open-admin-menu`,(e=>{global.exports["armoury-overlay"].showContextMenu(source,e)}))}registerFiveMEventListeners(){onNet("playerJoining",((e,t)=>{this._players.push(source)})),onNet("playerDropped",(e=>{this._players=this._players.filter((e=>e!==source))}))}getPlayers(){return this._players}registerExports(){exports("getPlayers",this.getPlayers.bind(this))}}})()})();