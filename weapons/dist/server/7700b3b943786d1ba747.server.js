(()=>{"use strict";new class extends class extends class extends class{constructor(){this.routingBucketCondition=(e,t)=>!0,this.assignServerBaseListeners()}RegisterAdminCommand(e,t,s,a){RegisterCommand(e,((e,a,o)=>{Number(global.exports.authentication.getPlayerInfo(e,"adminLevel"))<t||s(e,a,o)}),a)}assignServerBaseListeners(){onNet(`${GetCurrentResourceName()}:set-client-routing-bucket`,((e,t)=>{this.routingBucketCondition(e,t)&&SetEntityRoutingBucket(e,t)}))}}{removeClientsideVehicles(){TriggerClientEvent(`${GetCurrentResourceName()}:ARM_remove-vehicles`,-1)}}{}{constructor(){super(),this.assignExports(),this.assignListeners()}givePlayerWeapon(e,t,s){const a=this.getPlayerWeapons(e);a[t]?a[t]=Object.assign(Object.assign({},a[t]),{ammo:s+a[t].ammo}):a[t]={ammo:s},global.exports.authentication.setPlayerInfo(e,"weapons",a),GiveWeaponToPed(GetPlayerPed(e),Number(t),s,!1,!1)}removePlayerWeapons(e){global.exports.authentication.setPlayerInfo(e,"weapons",{}),RemoveAllPedWeapons(GetPlayerPed(e),!0)}getPlayerWeapons(e){return"object"==typeof global.exports.authentication.getPlayerInfo(e,"weapons")?global.exports.authentication.getPlayerInfo(e,"weapons"):{}}loadPlayerWeapons(e){const t=this.getPlayerWeapons(e);for(let s in t)GiveWeaponToPed(GetPlayerPed(e),Number(s),t[s].ammo,!1,!1)}assignExports(){exports("givePlayerWeapon",this.givePlayerWeapon.bind(this)),exports("removePlayerWeapons",this.removePlayerWeapons.bind(this)),exports("getPlayerWeapons",this.getPlayerWeapons.bind(this)),exports("loadPlayerWeapons",this.loadPlayerWeapons.bind(this))}assignListeners(){onNet("authentication:player-authenticated",(e=>{setTimeout((()=>{this.loadPlayerWeapons(e)}),1e3)})),onNet("armoury:onPlayerDeath",(()=>{this.removePlayerWeapons(source)}))}}})();