(()=>{"use strict";var e,t;(t=e||(e={}))[t.SERVER_TO_SERVER=0]="SERVER_TO_SERVER",t[t.SERVER_TO_CLIENT=1]="SERVER_TO_CLIENT",t[t.CLIENT_TO_SERVER=2]="CLIENT_TO_SERVER",t[t.CLIENT_TO_CLIENT=3]="CLIENT_TO_CLIENT";const s=[],o=[];let n=class extends class extends class extends class{constructor(){this.routingBucketCondition=(e,t)=>!0,this.assignServerBaseListeners()}RegisterAdminCommand(e,t,s,o){RegisterCommand(e,((e,o,n)=>{Number(global.exports.authentication.getPlayerInfo(e,"adminLevel"))<t||s(e,o,n)}),o)}assignServerBaseListeners(){onNet(`${GetCurrentResourceName()}:set-client-routing-bucket`,((e,t)=>{this.routingBucketCondition(e,t)&&SetEntityRoutingBucket(e,t)}))}}{removeClientsideVehicles(){TriggerClientEvent(`${GetCurrentResourceName()}:ARM_remove-vehicles`,-1)}}{}{constructor(){super(),this.assignExports(),this.assignListeners()}givePlayerWeapon(e,t,s){const o=this.getPlayerWeapons(e);o[t]?o[t]=Object.assign(Object.assign({},o[t]),{ammo:s+o[t].ammo}):o[t]={ammo:s},global.exports.authentication.setPlayerInfo(e,"weapons",o),GiveWeaponToPed(GetPlayerPed(e),Number(t),s,!1,!1)}removePlayerWeapons(e){global.exports.authentication.setPlayerInfo(e,"weapons",{}),RemoveAllPedWeapons(GetPlayerPed(e),!0)}getPlayerWeapons(e){return"object"==typeof global.exports.authentication.getPlayerInfo(e,"weapons")?global.exports.authentication.getPlayerInfo(e,"weapons"):{}}loadPlayerWeapons(e){const t=this.getPlayerWeapons(e);for(let s in t)GiveWeaponToPed(GetPlayerPed(e),Number(s),t[s].ammo,!1,!1)}assignExports(){exports("givePlayerWeapon",this.givePlayerWeapon.bind(this)),exports("removePlayerWeapons",this.removePlayerWeapons.bind(this)),exports("getPlayerWeapons",this.getPlayerWeapons.bind(this)),exports("loadPlayerWeapons",this.loadPlayerWeapons.bind(this))}assignListeners(){onNet("authentication:player-authenticated",(e=>{setTimeout((()=>{this.loadPlayerWeapons(e)}),1e3)})),onNet("armoury:onPlayerDeath",(()=>{this.removePlayerWeapons(source)}))}};n=function(e,t,s,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,s):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(r=(a<3?n(r):a>3?n(t,s,r):n(t,s))||r);return a>3&&r&&Object.defineProperty(t,s,r),r}([function(t){return class extends t{constructor(...t){super(...t),s.forEach((([t,s,o])=>{o===e.CLIENT_TO_CLIENT?on(s,super[t].bind(this)):onNet(s,super[t].bind(this))})),o.forEach((e=>{exports(e,super[e].bind(this))}))}}}],n),new n})();