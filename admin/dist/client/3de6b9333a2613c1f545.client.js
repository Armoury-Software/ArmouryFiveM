(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();const t=e=>new Promise((t=>setTimeout(t,e))),i=(e,t,i,n,s,o,r)=>e>=n-r&&e<=n+r&&t>=s-r&&t<=s+r&&i>=o-r&&i<=o+r,n={0:[255,255,255],1:[224,50,50],2:[93,189,113],3:[93,182,229],4:[255,255,255],5:[238,198,78],6:[194,80,80],7:[156,110,175],8:[254,122,195],9:[245,157,121],10:[177,143,131],11:[141,206,167],12:[112,168,174],13:[211,209,231],14:[143,126,152],15:[106,196,191],16:[213,195,152],17:[234,142,80],18:[151,202,233],19:[178,98,135],20:[143,141,121],21:[166,117,94],22:[175,168,168],23:[231,141,154],24:[187,214,91],25:[12,123,86],26:[122,195,254],27:[171,60,230],28:[205,168,12],29:[69,97,171],30:[41,165,184],31:[184,155,123],32:[200,224,254],33:[240,240,150],34:[237,140,161],35:[249,138,138],36:[251,238,165],37:[255,255,255],38:[40,96,160],39:[145,131,112],40:[76,76,76],41:[242,157,157],42:[108,183,214],43:[175,237,174],44:[255,167,95],45:[241,241,241],46:[236,240,41],47:[255,154,24],48:[246,68,165],49:[224,58,58],50:[138,109,227],51:[255,127,70],52:[49,96,65],53:[179,221,243],54:[58,100,121],55:[160,160,160],56:[132,114,50],57:[101,185,231],58:[75,65,117],59:[225,59,59],60:[240,203,88],61:[205,63,152],62:[207,207,207],63:[39,106,159],64:[216,123,27],65:[142,131,147],66:[240,203,87],67:[101,185,231],68:[101,185,231],69:[121,205,121],70:[239,202,87],71:[239,202,87],72:[61,61,61],73:[239,202,87],74:[73,168,231],75:[224,50,50],76:[120,35,35],77:[101,185,231],78:[58,100,121],79:[224,50,50],80:[101,185,231],81:[242,164,12],82:[164,204,170],83:[168,84,242],84:[101,185,231],85:[61,61,61]};var s=function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const o={onPlayerDeath:"armoury:onPlayerDeath",onPlayerAuthenticate:"authentication:player-authenticated",onPlayerDisconnect:"playerDropped",onResourceStop:"onResourceStop",onContextMenuItemPressed:"armoury-overlay:context-menu-item-pressed"};var r;!function(e){e[e.SERVER_TO_SERVER=0]="SERVER_TO_SERVER",e[e.SERVER_TO_CLIENT=1]="SERVER_TO_CLIENT",e[e.CLIENT_TO_SERVER=2]="CLIENT_TO_SERVER",e[e.CLIENT_TO_CLIENT=3]="CLIENT_TO_CLIENT"}(r||(r={}));const a=new Map,l=new Map;function c(e){return function(t,i,n){const s=o[i]||(null==e?void 0:e.eventName),l=(null==e?void 0:e.direction)||r.CLIENT_TO_SERVER;(null==s?void 0:s.length)?(a.has(t.constructor)||a.set(t.constructor,[]),a.get(t.constructor).some((([e,t,n])=>e===i))||a.get(t.constructor).push([i,s,l])):console.error(`${i} is not recognized as a default event, thus this listener won't work. Please use the eventName property inside the data parameter.`)}}const u={trucker:{pos:[124.60220336914062,-2682.474609375,10.229248046875]},carrier:{pos:[-439.8214,-2786.469,6.000384]},garbageman:{pos:[-267.5868225097656,197.41978454589844,89.22119140625]}},d={items:[{label:"Give Self",active:!0},{label:"Teleports"},{label:"Player Administration"},{label:"Remove Entities"}],title:"Admin Menu",id:"admin-menu"},h={items:[{label:"Give Weapon",active:!0,adminLevel:3},{label:"Give Drugs",adminLevel:5},{label:"Give Money",adminLevel:5},{label:"Give Vehicle",adminLevel:3}],title:"Admin Menu: Give Self",id:"give-self-menu"},m={items:[],title:"Admin Menu: Give Weapon",id:"give-weapon"},p={items:[{label:"Marijuana",active:!0},{label:"Cocaine"}],title:"Admin Menu: Give Drugs",id:"give-drugs"},g={items:[{label:"10000$",active:!0},{label:"50000$"},{label:"100000$"}],title:"Admin Menu: Give Money",id:"give-money"},v={items:[{label:"Akuma",active:!0},{label:"Hakuchou"},{label:"Sadler"},{label:"Rumpo"},{label:"Sandking"},{label:"Zentorno"},{label:"Akula"},{label:"Lazer"},{label:"Longfin"}],title:"Admin Menu: Spawn Vehicle",id:"veh-spawn"},b={items:[],title:"Admin Menu: Teleportation",id:"teleportation"},f={items:[{label:"Vehicles",adminLevel:3,active:!0},{label:"House",adminLevel:6},{label:"Business",adminLevel:6},{label:"Faction",adminLevel:6}],title:"Admin Menu: Remove Entities",id:"remove-entities"},y={2578778090:"Knife",1737195953:"Nightstick",1317494643:"Hammer",2508868239:"Bat",1141786504:"Golf Club",2227010557:"Crowbar",4192643659:"Bottle",3756226112:"Switch Blade",453432689:"Pistol",1593441988:"Combat Pistol",584646201:"AP Pistol",2578377531:"Pistol 50",1198879012:"Flare Gun",3696079510:"Marksman Pistol",3249783761:"Revolver",324215364:"Micro SMG",736523883:"SMG",4024951519:"Assault SMG",171789620:"Combat PDW",3220176749:"Assault Rifle",2210333304:"Carbine Rifle",2937143193:"Advanced Rifle",1649403952:"Compact Rifle",2634544996:"MG",2144741730:"Combat MG",487013001:"Pump Shotgun",2017895192:"Sawn Off Shotgun",3800352039:"Assault Shotgun",2640438543:"Bullpup Shotgun",4019527611:"Double Barrel Shotgun",911657153:"Stun Gun",100416529:"Sniper Rifle",205991906:"Heavy Sniper",2726580491:"Grenade Launcher",1305664598:"Grenade Launcher Smoke",2982836145:"RPG",1119849093:"Minigun",2481070269:"Grenade",741814745:"Sticky Bomb",4256991824:"Smoke Grenade",2694266206:"BZ Gas",615608432:"Molotov",101631238:"Fire Extinguisher",883325847:"Petrol Can",3218215474:"SNS Pistol",3231910285:"Special Carbine",3523564046:"Heavy Pistol",2132975508:"Bullpup Rifle",1672152130:"Homing Launcher",2874559379:"Proximity Mine",126349499:"Snowball",137902532:"Vintage Pistol",2460120199:"Dagger",2138347493:"Firework",2828843422:"Musket",3342088282:"Marksman Rifle",984333226:"Heavy Shotgun",1627465347:"Gusenberg",4191993645:"Hatchet",1834241177:"Railgun",2725352035:"Unarmed",3638508604:"Knuckle Duster",3713923289:"Machete",3675956304:"Machine Pistol",2343591895:"Flashlight",600439132:"Ball",1233104067:"Flare",2803906140:"Night Vision",4222310262:"Parachute",317205821:"Sweeper Shotgun",3441901897:"Battle Axe",125959754:"Compact Grenade Launcher",3173288789:"Mini SMG",3125143736:"Pipe Bomb",2484171525:"Pool Cue",419712736:"Wrench",3219281620:"Pistol Mk2",961495388:"Assault Rifle Mk2",4208062921:"Carbine Rifle Mk2",3686625920:"Combat MG Mk2",177293209:"Heavy Sniper Mk2",2024373456:"SMG Mk2"};var k=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r};let C=class extends class extends class extends class extends class extends class{constructor(){this.tickInstance=null,this.tickFunctions=[],this.routingBucket=0,this.assignBaseListeners()}addToTick(...e){e.forEach((e=>{-1!==this.tickFunctions.findIndex((t=>t.id===e.id))&&console.error(`[ClientBase]: A tick function with the id ${e.id} already exists in the stack! The newly added tick function will not be executed.`)})),this.tickFunctions.push(...e),this.removeTickDuplicates(),this.refreshTicks()}addToTickUnique(...e){e.forEach((e=>{this.removeFromTick(e.id)})),this.addToTick(...e)}removeFromTick(e){this.tickFunctions=this.tickFunctions.filter((t=>t.id!=e))}refreshTicks(){this.tickInstance&&(clearTick(this.tickInstance),this.tickInstance=null),this.tickFunctions.length>0&&(this.tickInstance=setTick((()=>{return e=this,t=void 0,n=function*(){if(!this.tickFunctions.length)return clearTick(this.tickInstance),void(this.tickInstance=null);this.tickFunctions.forEach((e=>{e.function()}))},new((i=void 0)||(i=Promise))((function(s,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n})))}removeTickDuplicates(){this.tickFunctions=this.tickFunctions.filter((e=>this.tickFunctions.findIndex((t=>t.id==e.id))==this.tickFunctions.indexOf(e)))}assignBaseListeners(){onNet(`${GetCurrentResourceName()}:set-routing-bucket`,(e=>{this.routingBucket=e}))}setEntityRoutingBucket(e){TriggerServerEvent(`${GetCurrentResourceName()}:set-client-routing-bucket`,e),this.routingBucket=e}}{constructor(){super(),this._blips=[],this._markers=[],this._vehicles=[],this._peds=[],this._waypoints=[],this._checkpoints=new Map,this.assignDefaultEntityListeners()}get blips(){return this._blips}get markers(){return this._markers}get vehicles(){return this._vehicles}get peds(){return this._peds}get waypoints(){return this._waypoints}get checkpoints(){return this._checkpoints}createBlips(e){const t=e.map((e=>Object.assign(Object.assign({},e),{instance:null})));this._blips.push(...t),this.refreshBlips()}createBlip(e){const t=AddBlipForCoord(e.pos[0],e.pos[1],e.pos[2]);return SetBlipSprite(t,e.id),SetBlipDisplay(t,4),SetBlipScale(t,1),SetBlipColour(t,e.color),SetBlipAsShortRange(t,!e.longRange),BeginTextCommandSetBlipName("STRING"),AddTextComponentString(e.title),EndTextCommandSetBlipName(t),t}clearBlips(){this._blips.forEach((e=>{RemoveBlip(e.instance)})),this._blips=[]}refreshBlips(){this.blips.forEach((e=>{e.instance||(e.instance=this.createBlip(e))}))}createWaypoint(e,t,i,s,o){const r=GetCurrentResourceName().replace("-"," "),a=`${r.slice(0,1).toUpperCase()}${r.slice(1)}`,l=this.createBlip({id:s||1,color:i||69,title:t||a,pos:e,longRange:!0});return this.createCheckpoint(2,e[0],e[1],e[2],null,null,null,3,n[i][0],n[i][1],n[i][2],255,0),SetBlipRoute(l,!0),o&&SetBlipRouteColour(l,o),this._waypoints.push(l),l}clearWaypoints(){this._waypoints.forEach((e=>{this.clearWaypoint(e,!0)})),this._waypoints=[]}clearWaypoint(e,t=!1){this.clearCheckpointByPosition(GetBlipCoords(e)),SetBlipRoute(e,!1),RemoveBlip(e),t||this._waypoints.splice(this._waypoints.indexOf(e),1)}createCheckpoint(e,t,i,n,s,o,r,a,l,c,u,d,h){const m=CreateCheckpoint(e,t,i,n,s,o,r,a,l,c,u,d,h);return this._checkpoints.set(m,[t,i,n,s,o,r]),m}clearCheckpoint(e){DeleteCheckpoint(e),this._checkpoints.has(e)&&this._checkpoints.delete(e)}clearCheckpointByPosition(e){const t=Array.from(this._checkpoints.keys()).find((t=>Math.floor(this._checkpoints.get(t)[0])===Math.floor(e[0])&&Math.floor(this._checkpoints.get(t)[1])===Math.floor(e[1])&&Math.floor(this._checkpoints.get(t)[2])===Math.floor(e[2])));t&&this.clearCheckpoint(t)}createMarkers(e){const t=e.map((e=>Object.assign(Object.assign({},e),{instance:null})));this._markers.push(...t),this.refreshMarkers()}clearMarkers(){this._markers=[],this.removeFromTick(`${GetCurrentResourceName()}_markers`)}refreshMarkers(){this.addToTickUnique({id:`${GetCurrentResourceName()}_markers`,function:()=>s(this,void 0,void 0,(function*(){const e=GetEntityCoords(GetPlayerPed(-1),!0);this._markers.forEach((n=>s(this,void 0,void 0,(function*(){var s,o,r;if(i(e[0],e[1],e[2],n.pos[0],n.pos[1],n.pos[2],n.renderDistance)){if(n.textureDict&&!HasStreamedTextureDictLoaded(n.textureDict))for(RequestStreamedTextureDict(n.textureDict,!0);!HasStreamedTextureDictLoaded(n.textureDict);)yield t(100);DrawMarker(n.marker,n.pos[0],n.pos[1],n.pos[2],0,0,0,(null===(s=n.rotation)||void 0===s?void 0:s[0])||0,(null===(o=n.rotation)||void 0===o?void 0:o[1])||0,(null===(r=n.rotation)||void 0===r?void 0:r[2])||0,n.scale,n.scale,n.scale,n.rgba[0],n.rgba[1],n.rgba[2],n.rgba[3],!1,!0,2,!1,n.textureDict||null,n.textureName||null,!1),n.underlyingCircle&&DrawMarker(n.underlyingCircle.marker,n.pos[0],n.pos[1],n.pos[2]-.9,0,0,0,0,0,0,n.underlyingCircle.scale,n.underlyingCircle.scale,n.underlyingCircle.scale,n.underlyingCircle.rgba[0]||n.rgba[0],n.underlyingCircle.rgba[1]||n.rgba[1],n.underlyingCircle.rgba[2]||n.rgba[2],n.underlyingCircle.rgba[3]||n.rgba[3],!1,!0,2,!1,null,null,!1)}}))))}))})}createVehicleAsync(e,i,n,o,r,a,l,c=!1){return s(this,void 0,void 0,(function*(){let s=0;for(RequestModel(e);!HasModelLoaded(e);){if(s>10)return 0;yield t(100),s++}const u=CreateVehicle(e,i,n,o,r,a,l);return u&&(l&&this._vehicles.push(u),c&&TaskWarpPedIntoVehicle(GetPlayerPed(-1),u,-1)),u}))}removeVehicle(e){DoesEntityExist(e)&&DeleteEntity(e),this._vehicles.indexOf(e)>-1&&this._vehicles.splice(this._vehicles.indexOf(e),1)}removePed(e){DoesEntityExist(e)&&DeleteEntity(e),this._peds.indexOf(e)>-1&&this._peds.splice(this._peds.indexOf(e),1)}createPedInsideVehicleAsync(e,i,n,o,r,a){return s(this,void 0,void 0,(function*(){let s=0;for(RequestModel(n);!HasModelLoaded(n);){if(s>10)return 0;yield t(100),s++}const l=CreatePedInsideVehicle(e,i,n,o,r,a);return l&&this._peds.push(l),l}))}createPedAsync(e,i,n,o,r,a,l,c){return s(this,void 0,void 0,(function*(){let s=0;for(RequestModel(i);!HasModelLoaded(i);){if(s>10)return 0;yield t(100),s++}const u=CreatePed(e,i,n,o,r,a,l,c);return u&&this._peds.push(u),u}))}setPedModelAsync(e,i){return s(this,void 0,void 0,(function*(){let n=0;for(RequestModel(i);!HasModelLoaded(i);){if(n>10)return!1;yield t(100),n++}SetPlayerModel(e,i),SetModelAsNoLongerNeeded(i)}))}assignDefaultEntityListeners(){onNet("onResourceStop",(e=>{e===GetCurrentResourceName()&&(this._vehicles.forEach((e=>{this.removeVehicle(e)})),this._peds.forEach((e=>{this.removePed(e)})),this._vehicles=[],this._peds=[])}))}}{constructor(){super(...arguments),this._actionPoints=[]}get actionPoints(){return this._actionPoints}createActionPoints(...e){this._actionPoints.push(...e),this.refreshActionPoints()}clearActionPoints(){this._actionPoints=[],this.removeFromTick(`${GetCurrentResourceName()}_actionpoints`)}removeActionPoint(e){this._actionPoints=this._actionPoints.filter((t=>!(e.pos[0]===t.pos[0]&&e.pos[1]===t.pos[1]&&e.pos[2]===t.pos[2]))),this._actionPoints.length||this.clearActionPoints()}refreshActionPoints(){this.addToTickUnique({id:`${GetCurrentResourceName()}_actionpoints`,function:()=>{const e=GetEntityCoords(GetPlayerPed(-1),!0);let t=[];this._actionPoints.forEach((n=>{i(e[0],e[1],e[2],n.pos[0],n.pos[1],n.pos[2],1*(IsPedInAnyVehicle(GetPlayerPed(-1),!1)?4:1))&&(n.action(),n.once&&t.push(n))})),t.length>0&&(t.forEach((e=>{this._actionPoints.splice(this._actionPoints.indexOf(e),1)})),t=[])}})}}{constructor(){super(...arguments),this.timeBetweenFeeds=8e3}addToFeed(...e){e.forEach(((e,t)=>{setTimeout((()=>{BeginTextCommandThefeedPost("STRING"),AddTextComponentSubstringPlayerName(e),EndTextCommandThefeedPostTicker(!1,!0)}),t*this.timeBetweenFeeds)}))}}{getPlayerInfo(t){let i=GetConvar(`${e.g.GetPlayerServerId(e.g.PlayerId())}_PI_${t}`,"-1");var n;return n=i.toString(),!/^\s*$/.test(n)&&(n=(n=(n=n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@")).replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]")).replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(n))&&(i=JSON.parse(i.toString(),(function(e,t){return"object"==typeof t||isNaN(t)?t:Number(t)}))),i}}{constructor(){super(),this.menuToggles=new Map,this.registerKeyBindings()}registerKeyBindings(){RegisterCommand("+openadminmenu",(()=>{if(this.getPlayerInfo("adminLevel")>0){if(!0===this.menuToggles.get("admin-menu"))return this.menuToggles.set("admin-menu",!1),void emit("armoury-overlay:hide-context-menu");TriggerServerEvent(`${GetCurrentResourceName()}:open-admin-menu`,d),console.log("opening admin menu"),this.menuToggles.set("admin-menu",!0)}}),!1),RegisterKeyMapping("+openadminmenu","Open Admin Menu","keyboard","f1")}onContextMenuItemPressed(e){switch(e.menuId){case"admin-menu":switch(e.buttonSelected.label.toLowerCase()){case"give self":TriggerServerEvent(`${GetCurrentResourceName()}:open-admin-menu`,Object.assign(Object.assign({},h),{items:h.items.filter((e=>Number(e.adminLevel)<=this.getPlayerInfo("adminLevel")))}));break;case"teleports":let e=["waypoint"];for(let t in u)e.push(t);TriggerServerEvent(`${GetCurrentResourceName()}:open-admin-menu`,Object.assign(Object.assign({},b),{items:e.map(((e,t)=>({label:e,active:!t,adminLevel:1}))).filter((e=>Number(e.adminLevel)<=this.getPlayerInfo("adminLevel")))}));break;case"player administration":break;case"remove entities":TriggerServerEvent(`${GetCurrentResourceName()}:open-admin-menu`,Object.assign(Object.assign({},f),{items:f.items.filter((e=>Number(e.adminLevel)<=Number(this.getPlayerInfo("adminLevel")))).map(((e,t,i)=>1===i.length?Object.assign(Object.assign({},e),{active:!0}):e))}))}break;case"give-self-menu":switch(e.buttonSelected.label.toLowerCase()){case"give weapon":let e=[];for(let t in y)e.push(y[t]);TriggerServerEvent(`${GetCurrentResourceName()}:open-admin-menu`,Object.assign(Object.assign({},m),{items:e.map(((e,t)=>({label:e,active:!t})))}));break;case"give drugs":TriggerServerEvent(`${GetCurrentResourceName()}:open-admin-menu`,p);break;case"give money":TriggerServerEvent(`${GetCurrentResourceName()}:open-admin-menu`,g);break;case"give vehicle":TriggerServerEvent(`${GetCurrentResourceName()}:open-admin-menu`,v)}case"give-weapon":"give weapon"!==e.buttonSelected.label.toLowerCase()&&"give drugs"!==e.buttonSelected.label.toLowerCase()&&"give money"!==e.buttonSelected.label.toLowerCase()&&"give vehicle"!==e.buttonSelected.label.toLowerCase()&&ExecuteCommand(`giveweapon ${this.getPlayerInfo("name")} ${e.buttonSelected.label.replaceAll(" ","")} 150`);break;case"give-drugs":ExecuteCommand(`agivedrugs ${this.getPlayerInfo("name")} ${e.buttonSelected.label} 10`);break;case"give-money":"give money"!==e.buttonSelected.label.toLowerCase&&ExecuteCommand(`givecash ${this.getPlayerInfo("name")} ${e.buttonSelected.label.replaceAll("$","")}`);break;case"teleportation":if("teleportation"!==e.buttonSelected.label.toLowerCase())if("waypoint"===e.buttonSelected.label.toLowerCase()){const e=GetFirstBlipInfoId(8);if(0!=e){const t=GetBlipCoords(e);t?ExecuteCommand(`tp ${t[0]} ${t[1]} ${t[2]}`):console.log("Please put a waypoint before using the command.")}}else ExecuteCommand(`tp ${e.buttonSelected.label.toLowerCase()}`);break;case"veh-spawn":"give vehicle"!==e.buttonSelected.label.toLowerCase()&&ExecuteCommand(`veh ${e.buttonSelected.label}`);break;case"remove-entities":"remove entities"!==e.buttonSelected.label.toLowerCase()&&("Vehicles"===e.buttonSelected.label?ExecuteCommand(`destroy${e.buttonSelected.label.toLowerCase()}`):ExecuteCommand(`remove${e.buttonSelected.label.toLowerCase()}`))}}onAfterTeleport(e){let t=GetGroundZAndNormalFor_3dCoord(Number(e[0]),Number(e[1]),Number(e[2]));console.log(t+" "+source+" "+e.join(", ")),GetEntityCoords(GetPlayerPed(source))[2]<t[1]&&SetEntityCoords(GetPlayerPed(source),Number(e[0]),Number(e[1]),Number(t),!0,!1,!1,!1)}};k([c({eventName:"armoury-overlay:context-menu-item-pressed",direction:r.CLIENT_TO_CLIENT})],C.prototype,"onContextMenuItemPressed",null),k([c({eventName:`${GetCurrentResourceName()}:send-updated-position`})],C.prototype,"onAfterTeleport",null),C=k([function(e){return class extends e{constructor(...t){super(...t),a.has(e)&&a.get(e).forEach((([e,t,i])=>{i===r.CLIENT_TO_CLIENT?on(t,super[e].bind(this)):onNet(t,super[e].bind(this))})),l.has(e)&&l.get(e).forEach((e=>{exports(e,super[e].bind(this))}))}}}],C),new C})();