/*! For license information please see 03489d3416754ab34209.server.js.LICENSE.txt */
(()=>{var t={938:()=>{var t;!function(t){!function(e){var n="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function(){try{return Function("return this;")()}catch(t){}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch(t){}}(),r=o(t);function o(t,e){return function(n,r){Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0!==n.Reflect&&(r=o(n.Reflect,r)),function(t,e){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!a&&!s,u={create:a?function(){return V(Object.create(null))}:s?function(){return V({__proto__:null})}:function(){return V({})},has:c?function(t,e){return n.call(t,e)}:function(t,e){return e in t},get:c?function(t,e){return n.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),f="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,A(e,this._cacheKey)&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){if(!A(this._cacheKey,t)){this._cacheIndex=-1;for(var n=0;n<this._keys.length;n++)if(A(this._keys[n],t)){this._cacheIndex=n;break}}return this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function o(t,e){return e}function a(t,e){return[t,e]}}(),p="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function(){function t(){this._map=new f}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.keys()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}(),h="function"==typeof WeakMap?WeakMap:function(){var t=16,e=u.create(),r=o();return function(){function t(){this._key=o()}return t.prototype.has=function(t){var e=i(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=i(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){return i(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=i(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=o()},t}();function o(){var t;do{t="@@WeakMap@@"+s()}while(u.has(e,t));return e[t]=!0,t}function i(t,e){if(!n.call(t,r)){if(!e)return;Object.defineProperty(t,r,{value:u.create()})}return t[r]}function a(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(){var e,n=(e=t,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e));n[6]=79&n[6]|64,n[8]=191&n[8]|128;for(var r="",o=0;o<t;++o){var i=n[o];4!==o&&6!==o&&8!==o||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}(),d=r?Symbol.for("@reflect-metadata:registry"):void 0,y=function(){var t;return!R(d)&&O(e.Reflect)&&Object.isExtensible(e.Reflect)&&(t=e.Reflect[d]),R(t)&&(t=function(){var t,n,r,o;R(d)||void 0===e.Reflect||d in e.Reflect||"function"!=typeof e.Reflect.defineMetadata||(t=function(t){var e=t.defineMetadata,n=t.hasOwnMetadata,r=t.getOwnMetadata,o=t.getOwnMetadataKeys,i=t.deleteMetadata,a=new h;return{isProviderFor:function(t,e){var n=a.get(t);return R(n)?!!o(t,e).length&&(R(n)&&(n=new p,a.set(t,n)),n.add(e),!0):n.has(e)},OrdinaryDefineOwnMetadata:e,OrdinaryHasOwnMetadata:n,OrdinaryGetOwnMetadata:r,OrdinaryOwnMetadataKeys:o,OrdinaryDeleteMetadata:i}}(e.Reflect));var i=new h,a={registerProvider:s,getProvider:u,setProvider:y};return a;function s(e){if(!Object.isExtensible(a))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case t===e:break;case R(n):n=e;break;case n===e:break;case R(r):r=e;break;case r===e:break;default:void 0===o&&(o=new p),o.add(e)}}function c(e,i){if(!R(n)){if(n.isProviderFor(e,i))return n;if(!R(r)){if(r.isProviderFor(e,i))return n;if(!R(o))for(var a=B(o);;){var s=F(a);if(!s)return;var c=D(s);if(c.isProviderFor(e,i))return G(a),c}}}if(!R(t)&&t.isProviderFor(e,i))return t}function u(t,e){var n,r=i.get(t);return R(r)||(n=r.get(e)),R(n)?(R(n=c(t,e))||(R(r)&&(r=new f,i.set(t,r)),r.set(e,n)),n):n}function l(t){if(R(t))throw new TypeError;return n===t||r===t||!R(o)&&o.has(t)}function y(t,e,n){if(!l(n))throw new Error("Metadata provider not registered.");var r=u(t,e);if(r!==n){if(!R(r))return!1;var o=i.get(t);R(o)&&(o=new f,i.set(t,o)),o.set(e,n)}return!0}}()),!R(d)&&O(e.Reflect)&&Object.isExtensible(e.Reflect)&&Object.defineProperty(e.Reflect,d,{enumerable:!1,configurable:!1,writable:!1,value:t}),t}(),v=function(t){var e=new h,n={isProviderFor:function(t,n){var r=e.get(t);return!R(r)&&r.has(n)},OrdinaryDefineOwnMetadata:function(t,e,n,o){r(n,o,!0).set(t,e)},OrdinaryHasOwnMetadata:function(t,e,n){var o=r(e,n,!1);return!R(o)&&S(o.has(t))},OrdinaryGetOwnMetadata:function(t,e,n){var o=r(e,n,!1);if(!R(o))return o.get(t)},OrdinaryOwnMetadataKeys:function(t,e){var n=[],o=r(t,e,!1);if(R(o))return n;for(var i=B(o.keys()),a=0;;){var s=F(i);if(!s)return n.length=a,n;var c=D(s);try{n[a]=c}catch(t){try{G(i)}finally{throw t}}a++}},OrdinaryDeleteMetadata:function(t,n,o){var i=r(n,o,!1);if(R(i))return!1;if(!i.delete(t))return!1;if(0===i.size){var a=e.get(n);R(a)||(a.delete(o),0===a.size&&e.delete(a))}return!0}};return y.registerProvider(n),n;function r(r,o,i){var a=e.get(r),s=!1;if(R(a)){if(!i)return;a=new f,e.set(r,a),s=!0}var c=a.get(o);if(R(c)){if(!i)return;if(c=new f,a.set(o,c),!t.setProvider(r,o,n))throw a.delete(o),s&&e.delete(r),new Error("Wrong provider for target.")}return c}}(y);function g(t,e,n){if(C(t,e,n))return!0;var r=L(e);return!k(r)&&g(t,r,n)}function C(t,e,n){var r=W(e,n,!1);return!R(r)&&S(r.OrdinaryHasOwnMetadata(t,e,n))}function b(t,e,n){if(C(t,e,n))return m(t,e,n);var r=L(e);return k(r)?void 0:b(t,r,n)}function m(t,e,n){var r=W(e,n,!1);if(!R(r))return r.OrdinaryGetOwnMetadata(t,e,n)}function _(t,e,n,r){W(n,r,!0).OrdinaryDefineOwnMetadata(t,e,n,r)}function x(t,e){var n=P(t,e),r=L(t);if(null===r)return n;var o=x(r,e);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new p,a=[],s=0,c=n;s<c.length;s++){var u=c[s];i.has(u)||(i.add(u),a.push(u))}for(var l=0,f=o;l<f.length;l++)u=f[l],i.has(u)||(i.add(u),a.push(u));return a}function P(t,e){var n=W(t,e,!1);return n?n.OrdinaryOwnMetadataKeys(t,e):[]}function w(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function R(t){return void 0===t}function k(t){return null===t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function E(t,e){switch(w(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=I(t,o);if(void 0!==r){var i=r.call(t,n);if(O(i))throw new TypeError;return i}return function(t,e){if("string"===e){var n=t.toString;if(N(n)&&!O(o=n.call(t)))return o;if(N(r=t.valueOf)&&!O(o=r.call(t)))return o}else{var r;if(N(r=t.valueOf)&&!O(o=r.call(t)))return o;var o,i=t.toString;if(N(i)&&!O(o=i.call(t)))return o}throw new TypeError}(t,"default"===n?"number":n)}function S(t){return!!t}function T(t){var e=E(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function j(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function N(t){return"function"==typeof t}function M(t){return"function"==typeof t}function A(t,e){return t===e||t!=t&&e!=e}function I(t,e){var n=t[e];if(null!=n){if(!N(n))throw new TypeError;return n}}function B(t){var e=I(t,i);if(!N(e))throw new TypeError;var n=e.call(t);if(!O(n))throw new TypeError;return n}function D(t){return t.value}function F(t){var e=t.next();return!e.done&&e}function G(t){var e=t.return;e&&e.call(t)}function L(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===l)return e;if(e!==l)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var o=r.constructor;return"function"!=typeof o||o===t?e:o}function W(t,e,n){var r=y.getProvider(t,e);if(!R(r))return r;if(n){if(y.setProvider(t,e,v))return v;throw new Error("Illegal state.")}}function V(t){return t.__=void 0,delete t.__,t}t("decorate",(function(t,e,n,r){if(R(n)){if(!j(t))throw new TypeError;if(!M(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!R(r)&&!k(r)){if(!M(r))throw new TypeError;e=r}}return e}(t,e)}if(!j(t))throw new TypeError;if(!O(e))throw new TypeError;if(!O(r)&&!R(r)&&!k(r))throw new TypeError;return k(r)&&(r=void 0),function(t,e,n,r){for(var o=t.length-1;o>=0;--o){var i=(0,t[o])(e,n,r);if(!R(i)&&!k(i)){if(!O(i))throw new TypeError;r=i}}return r}(t,e,n=T(n),r)})),t("metadata",(function(t,e){return function(n,r){if(!O(n))throw new TypeError;if(!R(r)&&!function(t){switch(w(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;_(t,e,n,r)}})),t("defineMetadata",(function(t,e,n,r){if(!O(n))throw new TypeError;return R(r)||(r=T(r)),_(t,e,n,r)})),t("hasMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return R(n)||(n=T(n)),g(t,e,n)})),t("hasOwnMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return R(n)||(n=T(n)),C(t,e,n)})),t("getMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return R(n)||(n=T(n)),b(t,e,n)})),t("getOwnMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return R(n)||(n=T(n)),m(t,e,n)})),t("getMetadataKeys",(function(t,e){if(!O(t))throw new TypeError;return R(e)||(e=T(e)),x(t,e)})),t("getOwnMetadataKeys",(function(t,e){if(!O(t))throw new TypeError;return R(e)||(e=T(e)),P(t,e)})),t("deleteMetadata",(function(t,e,n){if(!O(e))throw new TypeError;if(R(n)||(n=T(n)),!O(e))throw new TypeError;R(n)||(n=T(n));var r=W(e,n,!1);return!R(r)&&r.OrdinaryDeleteMetadata(t,e,n)}))}(r,n),void 0===n.Reflect&&(n.Reflect=t)}()}(t||(t={}))}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}(()=>{"use strict";n(938);var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var o="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;function i(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString(),n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var a=0,s=o.Reflect;function c(t){return"function"==typeof t&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function u(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+i(t)+" as constructor");if("function"==typeof t)return t;if(Array.isArray(t)){var n=t,r=n.length-1,o=t[r];if("function"!=typeof o)throw new Error("Last position of Class method array must be Function in key "+e+" was '"+i(o)+"'");if(r!==o.length)throw new Error("Number of annotations ("+r+") does not match number of arguments ("+o.length+") in the function: "+i(o));for(var a=[],u=0,l=n.length-1;u<l;u++){var f=[];a.push(f);var p=n[u];if(Array.isArray(p))for(var h=0;h<p.length;h++)f.push(c(p[h]));else"function"==typeof p?f.push(c(p)):f.push(p)}return s.defineMetadata("parameters",a,o),o}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+i(t)+"'")}function l(t){var e=u(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),n=e.prototype;if(t.hasOwnProperty("extends")){if("function"!=typeof t.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+i(t.extends));e.prototype=n=Object.create(t.extends.prototype)}for(var r in t)"extends"!==r&&"prototype"!==r&&t.hasOwnProperty(r)&&(n[r]=u(t[r],r));this&&this.annotations instanceof Array&&s.defineMetadata("annotations",this.annotations,e);var o=e.name;return o&&"constructor"!==o||(e.overriddenName="class"+a++),e}function f(t){return function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.forEach((function(t,r){var o=n[r];if(Array.isArray(t))e[t[0]]=void 0===o?t[1]:o;else for(var i in t)e[i]=o&&o.hasOwnProperty(i)?o[i]:t[i]}))}}function p(t,e,n){var o=f(e);function i(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof i)return o.apply(this,e),this;var a=new((t=i).bind.apply(t,r([void 0],e)));return c.annotation=a,c;function c(t,e,n){for(var r=s.getOwnMetadata("parameters",t)||[];r.length<=n;)r.push(null);return r[n]=r[n]||[],r[n].push(a),s.defineMetadata("parameters",r,t),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}var h=p("Inject",[["token",void 0]]),d=p("Optional",[]),y=function(t,e,n,r){var o=f([[]]);function i(t){if(!s||!s.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof i)return o.call(this,t),this;var e=new i(t),n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(e);var r=function(t){var n=s.getOwnMetadata("annotations",t)||[];return n.push(e),s.defineMetadata("annotations",n,t),t};return r.annotations=n,r.Class=l,r}return i.prototype.toString=function(){return"@Injectable"},i.annotationCls=i,i}(),v=p("Self",[]),g=p("SkipSelf",[]);function C(t){return t.__forward_ref__=C,t.toString=function(){return i(this())},t}function b(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===C?t():t}p("Host",[]);var m=new Object,_=m,x=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=m),e===m)throw new Error("No provider for "+i(t)+"!");return e},t}(),P=function(){function t(){}return t.THROW_IF_NOT_FOUND=m,t.NULL=new x,t}(),w="ngOriginalError";function R(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map((function(t){return i(t.token)})).join(" -> ")+")":""}function k(t,e,n,r){var o=r?function(t,e){var n=" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[w]=e,r}(0,r):Error();return o.addKey=O,o.keys=[e],o.injectors=[t],o.constructResolvingMessage=n,o.message=o.constructResolvingMessage(),o[w]=r,o}function O(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage()}function E(t,e){for(var n=[],r=0,o=e.length;r<o;r++){var a=e[r];a&&0!==a.length?n.push(a.map(i).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+i(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+i(t)+"' is decorated with Injectable.")}var S=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!")}return Object.defineProperty(t.prototype,"displayName",{get:function(){return i(this.token)},enumerable:!1,configurable:!0}),t.get=function(t){return T.get(b(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return T.numberOfKeys},enumerable:!1,configurable:!0}),t}(),T=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof S)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new S(t,S.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!1,configurable:!0}),t}()),j=Function;function N(t){return"function"==typeof t}var M=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,A=function(){function t(t){this._reflect=t||o.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,r([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=new Array(void 0===t?e.length:t.length);for(var r=0;r<n.length;r++)void 0===t?n[r]=[]:t[r]!=Object?n[r]=[t[r]]:n[r]=[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){if(M.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var r="function"==typeof n?n():n,o=r.map((function(t){return t&&t.type})),i=r.map((function(t){return t&&I(t.decorators)}));return this._zipTypesAndAnnotations(o,i)}return null!=this._reflect&&null!=this._reflect.getOwnMetadata&&(i=this._reflect.getOwnMetadata("parameters",t),(o=this._reflect.getOwnMetadata("design:paramtypes",t))||i)?this._zipTypesAndAnnotations(o,i):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!N(t))return[];var e=B(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?I(t.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",t):null},t.prototype.annotations=function(t){if(!N(t))return[];var e=B(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,o={};return Object.keys(r).forEach((function(t){o[t]=I(r[t])})),o}return this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("propMetadata",t):null},t.prototype.propMetadata=function(t){if(!N(t))return{};var e=B(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach((function(t){n[t]=r[t]}))}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach((function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,o[t]),n[t]=e})),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof j&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+i(t)},t.prototype.resourceUri=function(t){return"./"+i(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function I(t){return t?t.map((function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,r([void 0],n)))})):[]}function B(t){if(!t.prototype)return Object;var e=Object.getPrototypeOf(t.prototype);return(e?e.constructor:null)||Object}var D=new(function(t){function n(e){var n=t.call(this)||this;return n.reflectionCapabilities=e,n}return e(n,t),n.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},n.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},n.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},n.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},n.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},n.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},n.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},n.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},n.prototype.method=function(t){return this.reflectionCapabilities.method(t)},n.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},n.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},n.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},n.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},n}((function(){})))(new A),F=function(t){function n(e){return t.call(this,e)||this}return e(n,t),n.prototype.toString=function(){return"InjectionToken "+this._desc},n}(function(){function t(t){this._desc=t}return t.prototype.toString=function(){return"Token "+this._desc},t}()),G=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),L=[],W=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!1,configurable:!0}),t}(),V=function(t,e){this.factory=t,this.dependencies=e};function K(t){var e,n;if(t.useClass){var r=b(t.useClass);e=D.factory(r),n=z(r)}else t.useExisting?(e=function(t){return t},n=[G.fromKey(S.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map((function(t){return[t]}));return e.map((function(e){return Y(t,e,n)}))}return z(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=L);return new V(e,n)}function q(t){return new W(S.get(t.provide),[K(t)],t.multi||!1)}function H(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+o+" "+r);if(r.multiProvider)for(var i=0;i<r.resolvedFactories.length;i++)o.resolvedFactories.push(r.resolvedFactories[i]);else e.set(r.key.id,r)}else{var a;a=r.multiProvider?new W(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(U(t,[]).map(q),new Map);return Array.from(e.values())}function U(t,e){return t.forEach((function(t){if(t instanceof j)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(t);else{if(!(t instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t);U(t,e)}})),e}function z(t){var e=D.parameters(t);if(!e)return[];if(e.some((function(t){return null==t})))throw E(t,e);return e.map((function(n){return Y(t,n,e)}))}function Y(t,e,n){var r=null,o=!1;if(!Array.isArray(e))return J(e instanceof h?e.token:e,o,null);for(var i=null,a=0;a<e.length;++a){var s=e[a];s instanceof j?r=s:s instanceof h?r=s.token:s instanceof d?o=!0:s instanceof v||s instanceof g?i=s:s instanceof F&&(r=s)}if(null!=(r=b(r)))return J(r,o,i);throw E(t,n)}function J(t,e,n){return new G(S.get(t),e,n)}var $,Q=new Object,X=function(){function t(){}return t.resolve=function(t){return H(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new Z(t,e)},t}(),Z=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this._parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Q}return t.prototype.get=function(t,e){return void 0===e&&(e=_),this._getByKey(S.get(t),null,e)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),t.prototype.resolveAndCreateChild=function(t){var e=X.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n._parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(X.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw this,k(this,t.key,(function(){return"Cannot instantiate cyclic dependency!"+R(this.keys)}));return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r,o,a,s,c=this,u=e.factory;try{n=e.dependencies.map((function(t){return c._getByReflectiveDependency(t)}))}catch(e){throw e.addKey&&e.addKey(this,t.key),e}try{r=u.apply(void 0,n)}catch(e){throw o=this,a=e,e.stack,s=t.key,k(o,s,(function(){var t=i(this.keys[0].token);return this[w].message+": Error during instantiation of "+t+"!"+R(this.keys)+"."}),a)}return r},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:_)},t.prototype._getByKey=function(t,e,n){return t===tt?this:e instanceof v?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Q&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Q},t.prototype._throwOrNull=function(t,e){if(e!==_)return e;throw function(t,e){return k(t,e,(function(){return"No provider for "+i(this.keys[0].token)+"!"+R(this.keys)}))}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==Q?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var o;for(o=r instanceof g?this._parent:this;o instanceof t;){var i=o,a=i._getObjByKeyId(e.id);if(a!==Q)return a;o=i._parent}return null!==o?o.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),tt=S.get(P),et=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},nt=function(){function t(){this.tickInstance=null,this.tickFunctions=[],this.routingBucket=0,this.assignBaseListeners()}return t.prototype.add=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach((function(t){-1!==e.tickFunctions.findIndex((function(e){return e.id===t.id}))&&console.error("[ClientBase]: A tick function with the id "+t.id+" already exists in the stack! The newly added tick function will not be executed.")})),(t=this.tickFunctions).push.apply(t,n),this.removeTickDuplicates(),this.refreshTicks()},t.prototype.addUnique=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){t.remove(e.id)})),this.add.apply(this,e)},t.prototype.remove=function(t){this.tickFunctions=this.tickFunctions.filter((function(e){return e.id!=t}))},t.prototype.refreshTicks=function(){var t=this;this.tickInstance&&(clearTick(this.tickInstance),this.tickInstance=null),this.tickFunctions.length>0&&(this.tickInstance=setTick((function(){if(!t.tickFunctions.length)return clearTick(t.tickInstance),void(t.tickInstance=null);t.tickFunctions.forEach((function(t){t.function()}))})))},t.prototype.removeTickDuplicates=function(){var t=this;this.tickFunctions=this.tickFunctions.filter((function(e){return t.tickFunctions.findIndex((function(t){return t.id==e.id}))==t.tickFunctions.indexOf(e)}))},t.prototype.assignBaseListeners=function(){var t=this;onNet(GetCurrentResourceName()+":set-routing-bucket",(function(e){t.routingBucket=e}))},t.prototype.setEntityRoutingBucket=function(t){TriggerServerEvent(GetCurrentResourceName()+":set-client-routing-bucket",t),this.routingBucket=t},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([y(),et("design:paramtypes",[])],t)}(),rt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ot=function(){function t(t){this._ticksService=t,this.chunkRadius=75,this._actionPoints={},this._cachedPlayerPosition=[NaN,NaN],this._cachedPlayerRoundedPosition=[NaN,NaN],this._cachedIsPlayerInAnyVehicle=!1}return Object.defineProperty(t.prototype,"actionPoints",{get:function(){return this._actionPoints},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedPlayerPosition",{get:function(){return this._cachedPlayerPosition},enumerable:!1,configurable:!0}),t.prototype.create=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){t.createActionPoint(e)}))},t.prototype.createActionPoint=function(t){var e=this.roundToNearest(t.pos[0],this.chunkRadius),n=this.roundToNearest(t.pos[1],this.chunkRadius);this._actionPoints[e]||(this._actionPoints[e]={}),this.actionPoints[e][n]||(this._actionPoints[e][n]=[]),this._actionPoints[e][n].push(t)},t.prototype.remove=function(t){var e,n;(null===(n=null===(e=this._actionPoints[this.roundToNearest(t.pos[0],this.chunkRadius)])||void 0===e?void 0:e[this.roundToNearest(t.pos[1],this.chunkRadius)])||void 0===n?void 0:n.length)&&(this._actionPoints[this.roundToNearest(t.pos[0],this.chunkRadius)][this.roundToNearest(t.pos[1],this.chunkRadius)]=this._actionPoints[this.roundToNearest(t.pos[0],this.chunkRadius)][this.roundToNearest(t.pos[1],this.chunkRadius)].filter((function(e){return e.id!=t.id})))},t.prototype.removeById=function(t){var e=this;Object.keys(this._actionPoints).forEach((function(n){var r=Number(n);Object.keys(e._actionPoints[r]).forEach((function(n){var o=Number(n);e._actionPoints[r][o]=e._actionPoints[r][o].filter((function(e){return e.id!=t}))}))}))},t.prototype.removeAll=function(){this._actionPoints={},this._ticksService.remove(GetCurrentResourceName()+"_actionpoints")},t.prototype.existsAtPosition=function(t,e,n){var r=this.roundToNearest(t,this.chunkRadius),o=this.roundToNearest(e,this.chunkRadius);return!(!this.actionPoints[r]||!this.actionPoints[r][o]||!this.actionPoints[r][o].find((function(r){return r.pos[0]==t&&r.pos[1]==e&&r.pos[2]==n})))},t.prototype.roundToNearest=function(t,e){return Math.round(t/e)*e},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([y(),(e=0,n=h(nt),function(t,r){n(t,r,e)}),rt("design:paramtypes",[nt])],t);var e,n}(),it=function(){return it=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},it.apply(this,arguments)},at=function(){function t(){this._blips=[]}return Object.defineProperty(t.prototype,"blips",{get:function(){return this._blips},enumerable:!1,configurable:!0}),t.prototype.createMultiple=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.map((function(t){return it(it({},t),{instance:null})}));(t=this._blips).push.apply(t,r),this.refresh()},t.prototype.create=function(t){var e,n=t.type&&"coords"!==t.type?"range"===t.type?AddBlipForRadius(t.pos[0],t.pos[1],t.pos[2],t.scale||1):AddBlipForEntity(null!==(e=t.entityId)&&void 0!==e?e:PlayerPedId()):AddBlipForCoord(t.pos[0],t.pos[1],t.pos[2]);return t.type&&"range"===t.type||SetBlipScale(n,t.scale||1),SetBlipSprite(n,t.id),SetBlipDisplay(n,4),SetBlipColour(n,t.color),SetBlipAlpha(n,t.alpha||255),SetBlipAsShortRange(n,!t.longRange),BeginTextCommandSetBlipName("STRING"),AddTextComponentString(t.title),EndTextCommandSetBlipName(n),n},t.prototype.clear=function(t){this._blips=this._blips.filter((function(e){return e.instance!==t})),DoesBlipExist(t)&&RemoveBlip(t)},t.prototype.clearAll=function(){this._blips.forEach((function(t){RemoveBlip(t.instance)})),this._blips=[]},t.prototype.refresh=function(){var t=this;this.blips.forEach((function(e){e.instance||(e.instance=t.create(e))}))},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([y()],t)}(),st=function(){function t(){this._checkpoints=new Map}return Object.defineProperty(t.prototype,"checkpoints",{get:function(){return this._checkpoints},enumerable:!1,configurable:!0}),t.prototype.create=function(t,e,n,r,o,i,a,s,c,u,l,f,p){var h=CreateCheckpoint(t,e,n,r,o,i,a,s,c,u,l,f,p);return this._checkpoints.set(h,[e,n,r,o,i,a]),h},t.prototype.clear=function(t){DeleteCheckpoint(t),this._checkpoints.has(t)&&this._checkpoints.delete(t)},t.prototype.clearByPosition=function(t){var e=this,n=Array.from(this._checkpoints.keys()).find((function(n){return Math.floor(e._checkpoints.get(n)[0])===Math.floor(t[0])&&Math.floor(e._checkpoints.get(n)[1])===Math.floor(t[1])&&Math.floor(e._checkpoints.get(n)[2])===Math.floor(t[2])}));n&&this.clear(n)},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([y()],t)}(),ct=function(t){return new Promise((function(e){return setTimeout(e,t)}))},ut=function(t){return!/^\s*$/.test(t)&&(t=(t=(t=t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@")).replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]")).replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(t))},lt=function(){return lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},lt.apply(this,arguments)},ft=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pt=(function(){function t(t){this._actionPoints=t,this._markers=[]}var e,n;Object.defineProperty(t.prototype,"markers",{get:function(){return this._markers},enumerable:!1,configurable:!0}),t.prototype.create=function(){for(var t,e,n=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=r.map((function(t){return lt(lt({},t),{instance:null})}));(t=this._markers).push.apply(t,i),(e=this._actionPoints).create.apply(e,r.map((function(t){return{id:GetCurrentResourceName()+"_marker_"+t.pos[0]+"_"+t.pos[1],pos:t.pos,range:t.renderDistance,action:function(){return e=n,r=void 0,i=function(){var e,n,r,o,i,a,s;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(c){switch(c.label){case 0:if(!t.textureDict||HasStreamedTextureDictLoaded(t.textureDict))return[3,3];RequestStreamedTextureDict(t.textureDict,!0),c.label=1;case 1:return HasStreamedTextureDictLoaded(t.textureDict)?[3,3]:[4,ct(100)];case 2:return c.sent(),[3,1];case 3:return DrawMarker(t.marker,t.pos[0],t.pos[1],t.pos[2],0,0,0,(null===(e=t.rotation)||void 0===e?void 0:e[0])||0,(null===(n=t.rotation)||void 0===n?void 0:n[1])||0,(null===(r=t.rotation)||void 0===r?void 0:r[2])||0,t.scale,t.scale,t.scale,t.rgba[0],t.rgba[1],t.rgba[2],t.rgba[3],!1,!0,2,!1,t.textureDict||null,t.textureName||null,!1),t.underlyingCircle&&DrawMarker(t.underlyingCircle.marker,t.pos[0],t.pos[1],t.pos[2]-.9,0,0,0,0,0,0,t.underlyingCircle.scale,t.underlyingCircle.scale,t.underlyingCircle.scale,(null===(o=t.underlyingCircle.rgba)||void 0===o?void 0:o[0])||t.rgba[0],(null===(i=t.underlyingCircle.rgba)||void 0===i?void 0:i[1])||t.rgba[1],(null===(a=t.underlyingCircle.rgba)||void 0===a?void 0:a[2])||t.rgba[2],(null===(s=t.underlyingCircle.rgba)||void 0===s?void 0:s[3])||t.rgba[3],!1,!0,2,!1,null,null,!1),[2]}}))},new((o=void 0)||(o=Promise))((function(t,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function s(t){try{c(i.throw(t))}catch(t){n(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(e,r||[])).next())}));var e,r,o,i}}})))},t.prototype.clearAll=function(){var t=this;this.markers.forEach((function(e){t._actionPoints.removeById(GetCurrentResourceName()+"_marker_"+e.pos[0]+"_"+e.pos[1])})),this._markers=[]},t=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([y(),(e=0,n=h(ot),function(t,r){n(t,r,e)}),ft("design:paramtypes",[ot])],t)}(),function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}),ht=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},yt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},vt=(function(){function t(){var t=this;this._peds=[],onNet("onResourceStop",(function(e){e===GetCurrentResourceName()&&(t._peds.forEach((function(e){t.remove(e)})),t._peds=[])}))}Object.defineProperty(t.prototype,"peds",{get:function(){return this._peds},enumerable:!1,configurable:!0}),t.prototype.remove=function(t){DoesEntityExist(t)&&DeleteEntity(t),this._peds.indexOf(t)>-1&&this._peds.splice(this._peds.indexOf(t),1)},t.prototype.createInsideVehicleAsync=function(t,e,n,r,o,i){return dt(this,void 0,void 0,(function(){var a,s;return yt(this,(function(c){switch(c.label){case 0:a=0,RequestModel(n),c.label=1;case 1:return HasModelLoaded(n)?[3,3]:a>10?[2,0]:[4,ct(100)];case 2:return c.sent(),a++,[3,1];case 3:return(s=CreatePedInsideVehicle(t,e,n,r,o,i))&&this._peds.push(s),[2,s]}}))}))},t.prototype.createAsync=function(t,e,n,r,o,i,a,s){return dt(this,void 0,void 0,(function(){var c,u;return yt(this,(function(l){switch(l.label){case 0:c=0,RequestModel(e),l.label=1;case 1:return HasModelLoaded(e)?[3,3]:c>10?[2,0]:[4,ct(100)];case 2:return l.sent(),c++,[3,1];case 3:return(u=CreatePed(t,e,n,r,o,i,a,s))&&this._peds.push(u),[2,u]}}))}))},t.prototype.playAnim=function(t,e,n,r,o,i,a){return void 0===o&&(o=0),void 0===i&&(i=8),void 0===a&&(a=8),dt(this,void 0,void 0,(function(){var s;return yt(this,(function(c){switch(c.label){case 0:s=0,RequestAnimDict(e),c.label=1;case 1:return HasAnimDictLoaded(e)?[3,3]:s>10?[2]:[4,ct(100)];case 2:return c.sent(),s++,[3,1];case 3:return HasAnimDictLoaded(e)&&TaskPlayAnim(t,e,n,i,a,r,o,0,!1,!1,!1),[2]}}))}))},t.prototype.setModelAsync=function(t,e){return dt(this,void 0,void 0,(function(){var n;return yt(this,(function(r){switch(r.label){case 0:n=0,RequestModel(e),r.label=1;case 1:return HasModelLoaded(e)?[3,3]:n>10?[2,!1]:[4,ct(100)];case 2:return r.sent(),n++,[3,1];case 3:return SetPlayerModel(t,e),SetModelAsNoLongerNeeded(e),[2,!0]}}))}))},t=pt([y(),ht("design:paramtypes",[])],t)}(),function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}),gt=(function(){function t(){}t.prototype.getPlayerInfo=function(t,e){var n=GetConvar((e||GetPlayerServerId(PlayerId()))+"_PI_"+t,"-1");return ut(n.toString())&&(n=JSON.parse(n.toString(),(function(t,e){return"object"==typeof e||isNaN(e)?e:Number(e)}))),n},t=vt([y()],t)}(),function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}),Ct=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bt=(function(){function t(){var t=this;this._vehicles=[],onNet("onResourceStop",(function(e){e===GetCurrentResourceName()&&(t._vehicles.forEach((function(e){t.remove(e)})),t._vehicles=[])}))}Object.defineProperty(t.prototype,"vehicles",{get:function(){return this._vehicles},enumerable:!1,configurable:!0}),t.prototype.createAsync=function(t,e,n,r,o,i,a,s){return void 0===s&&(s=!1),c=this,u=void 0,f=function(){var c,u;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(l){switch(l.label){case 0:c=0,RequestModel(t),l.label=1;case 1:return HasModelLoaded(t)?[3,3]:c>10?[2,0]:[4,ct(100)];case 2:return l.sent(),c++,[3,1];case 3:return(u=CreateVehicle(t,e,n,r,o,i,a))&&(a&&this._vehicles.push(u),s&&TaskWarpPedIntoVehicle(GetPlayerPed(-1),u,-1)),[2,u]}}))},new((l=void 0)||(l=Promise))((function(t,e){function n(t){try{o(f.next(t))}catch(t){e(t)}}function r(t){try{o(f.throw(t))}catch(t){e(t)}}function o(e){var o;e.done?t(e.value):(o=e.value,o instanceof l?o:new l((function(t){t(o)}))).then(n,r)}o((f=f.apply(c,u||[])).next())}));var c,u,l,f},t.prototype.remove=function(t){DoesEntityExist(t)&&DeleteEntity(t),this._vehicles.indexOf(t)>-1&&this._vehicles.splice(this._vehicles.indexOf(t),1)},t=gt([y(),Ct("design:paramtypes",[])],t)}(),{0:[255,255,255],1:[224,50,50],2:[93,189,113],3:[93,182,229],4:[255,255,255],5:[238,198,78],6:[194,80,80],7:[156,110,175],8:[254,122,195],9:[245,157,121],10:[177,143,131],11:[141,206,167],12:[112,168,174],13:[211,209,231],14:[143,126,152],15:[106,196,191],16:[213,195,152],17:[234,142,80],18:[151,202,233],19:[178,98,135],20:[143,141,121],21:[166,117,94],22:[175,168,168],23:[231,141,154],24:[187,214,91],25:[12,123,86],26:[122,195,254],27:[171,60,230],28:[205,168,12],29:[69,97,171],30:[41,165,184],31:[184,155,123],32:[200,224,254],33:[240,240,150],34:[237,140,161],35:[249,138,138],36:[251,238,165],37:[255,255,255],38:[40,96,160],39:[145,131,112],40:[76,76,76],41:[242,157,157],42:[108,183,214],43:[175,237,174],44:[255,167,95],45:[241,241,241],46:[236,240,41],47:[255,154,24],48:[246,68,165],49:[224,58,58],50:[138,109,227],51:[255,127,70],52:[49,96,65],53:[179,221,243],54:[58,100,121],55:[160,160,160],56:[132,114,50],57:[101,185,231],58:[75,65,117],59:[225,59,59],60:[240,203,88],61:[205,63,152],62:[207,207,207],63:[39,106,159],64:[216,123,27],65:[142,131,147],66:[240,203,87],67:[101,185,231],68:[101,185,231],69:[121,205,121],70:[239,202,87],71:[239,202,87],72:[61,61,61],73:[239,202,87],74:[73,168,231],75:[224,50,50],76:[120,35,35],77:[101,185,231],78:[58,100,121],79:[224,50,50],80:[101,185,231],81:[242,164,12],82:[164,204,170],83:[168,84,242],84:[101,185,231],85:[61,61,61]}),mt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_t=function(t,e){return function(n,r){e(n,r,t)}};function xt(t){return function(e,n){var r=Pt[n]||(null==t?void 0:t.eventName),o=(null==t?void 0:t.direction)||$.CLIENT_TO_SERVER;Reflect.defineMetadata("eventListener_"+n,{eventName:r,direction:o},e,n)}}!function(){function t(t,e){this._blipsService=t,this._checkpointsService=e,this._waypoints=[]}Object.defineProperty(t.prototype,"waypoints",{get:function(){return this._waypoints},enumerable:!1,configurable:!0}),t.prototype.createWaypoint=function(t,e,n,r,o,i){void 0===i&&(i=3);var a=GetCurrentResourceName().replace("-"," "),s=""+a.slice(0,1).toUpperCase()+a.slice(1),c=this._blipsService.create({id:r||1,color:n||69,title:e||s,pos:t,longRange:!0});return this._checkpointsService.create(2,t[0],t[1],t[2],null,null,null,i,bt[null!=n?n:0][0],bt[null!=n?n:0][1],bt[null!=n?n:0][2],255,0),-1!==o&&(SetBlipRoute(c,!0),o&&SetBlipRouteColour(c,o)),this._waypoints.push(c),c},t.prototype.clearWaypoints=function(){var t=this;this._waypoints.forEach((function(e){t.clearWaypoint(e,!0)})),this._waypoints=[]},t.prototype.clearWaypoint=function(t,e){void 0===e&&(e=!1),this._checkpointsService.clearByPosition(GetBlipCoords(t)),SetBlipRoute(t,!1),RemoveBlip(t),e||this._waypoints.splice(this._waypoints.indexOf(t),1)},t=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}([y(),_t(0,h(at)),_t(1,h(st)),mt("design:paramtypes",[at,st])],t)}(),function(t){t[t.SERVER_TO_SERVER=0]="SERVER_TO_SERVER",t[t.SERVER_TO_CLIENT=1]="SERVER_TO_CLIENT",t[t.CLIENT_TO_SERVER=2]="CLIENT_TO_SERVER",t[t.CLIENT_TO_CLIENT=3]="CLIENT_TO_CLIENT"}($||($={}));var Pt={onAccountAuthenticate:"authentication:account-success",onPlayerConnect:"playerJoining",onPlayerDeath:"armoury:onPlayerDeath",onPlayerAuthenticate:"authentication:player-authenticated",onPlayerDisconnect:"playerDropped",onResourceStop:"onResourceStop",onContextMenuItemPressed:"armoury-overlay:context-menu-item-pressed",onPlayerEnterVehicle:"armoury:onPlayerEnterVehicle",onPlayerExitVehicle:"armoury:onPlayerExitVehicle",onPlayerClientsidedCacheLoaded:"armoury:player-resource-cache-loaded",onPlayerStartTowVehicle:"armoury:onPlayerStartTowVehicle",onPlayerStopTowVehicle:"armoury:onPlayerStopTowVehicle"},wt=function(){function t(){this.tickInstance=null,this.tickFunctions=[],this.routingBucket=0,this.assignBaseListeners()}return t.prototype.addToTick=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach((function(t){-1!==e.tickFunctions.findIndex((function(e){return e.id===t.id}))&&console.error("[ClientBase]: A tick function with the id "+t.id+" already exists in the stack! The newly added tick function will not be executed.")})),(t=this.tickFunctions).push.apply(t,n),this.removeTickDuplicates(),this.refreshTicks()},t.prototype.addToTickUnique=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){t.removeFromTick(e.id)})),this.addToTick.apply(this,e)},t.prototype.removeFromTick=function(t){this.tickFunctions=this.tickFunctions.filter((function(e){return e.id!=t}))},t.prototype.refreshTicks=function(){var t=this;this.tickInstance&&(clearTick(this.tickInstance),this.tickInstance=null),this.tickFunctions.length>0&&(this.tickInstance=setTick((function(){if(!t.tickFunctions.length)return clearTick(t.tickInstance),void(t.tickInstance=null);t.tickFunctions.forEach((function(t){t.function()}))})))},t.prototype.removeTickDuplicates=function(){var t=this;this.tickFunctions=this.tickFunctions.filter((function(e){return t.tickFunctions.findIndex((function(t){return t.id==e.id}))==t.tickFunctions.indexOf(e)}))},t.prototype.assignBaseListeners=function(){var t=this;onNet(GetCurrentResourceName()+":set-routing-bucket",(function(e){t.routingBucket=e}))},t.prototype.setEntityRoutingBucket=function(t){TriggerServerEvent(GetCurrentResourceName()+":set-client-routing-bucket",t),this.routingBucket=t},t.prototype.getPlayerInfo=function(t,e){var n=GetConvar((e||GetPlayerServerId(PlayerId()))+"_PI_"+t,"-1");return ut(n.toString())&&(n=JSON.parse(n.toString(),(function(t,e){return"object"==typeof e||isNaN(e)?e:Number(e)}))),n},t}(),Rt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kt=function(){return kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},kt.apply(this,arguments)},Ot=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Et=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},St=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Tt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},jt=function(t){function e(){var e=t.call(this)||this;return e._blips=[],e._markers=[],e._vehicles=[],e._peds=[],e._waypoints=[],e._checkpoints=new Map,e.assignDefaultEntityListeners(),e}return Rt(e,t),Object.defineProperty(e.prototype,"blips",{get:function(){return this._blips},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markers",{get:function(){return this._markers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vehicles",{get:function(){return this._vehicles},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"peds",{get:function(){return this._peds},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waypoints",{get:function(){return this._waypoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkpoints",{get:function(){return this._checkpoints},enumerable:!1,configurable:!0}),e.prototype.createBlips=function(t){var e,n=t.map((function(t){return kt(kt({},t),{instance:null})}));(e=this._blips).push.apply(e,n),this.refreshBlips()},e.prototype.createBlip=function(t){var e,n=t.type&&"coords"!==t.type?"range"===t.type?AddBlipForRadius(t.pos[0],t.pos[1],t.pos[2],t.scale||1):AddBlipForEntity(null!==(e=t.entityId)&&void 0!==e?e:PlayerPedId()):AddBlipForCoord(t.pos[0],t.pos[1],t.pos[2]);return t.type&&"range"===t.type||SetBlipScale(n,t.scale||1),SetBlipSprite(n,t.id),SetBlipDisplay(n,4),SetBlipColour(n,t.color),SetBlipAlpha(n,t.alpha||255),SetBlipAsShortRange(n,!t.longRange),BeginTextCommandSetBlipName("STRING"),AddTextComponentString(t.title),EndTextCommandSetBlipName(n),n},e.prototype.clearBlip=function(t){this._blips=this._blips.filter((function(e){return e.instance!==t})),DoesBlipExist(t)&&RemoveBlip(t)},e.prototype.clearBlips=function(){this._blips.forEach((function(t){RemoveBlip(t.instance)})),this._blips=[]},e.prototype.refreshBlips=function(){var t=this;this.blips.forEach((function(e){e.instance||(e.instance=t.createBlip(e))}))},e.prototype.createWaypoint=function(t,e,n,r,o,i){void 0===i&&(i=3);var a=GetCurrentResourceName().replace("-"," "),s=""+a.slice(0,1).toUpperCase()+a.slice(1),c=this.createBlip({id:r||1,color:n||69,title:e||s,pos:t,longRange:!0});return this.createCheckpoint(2,t[0],t[1],t[2],null,null,null,i,bt[null!=n?n:0][0],bt[null!=n?n:0][1],bt[null!=n?n:0][2],255,0),-1!==o&&(SetBlipRoute(c,!0),o&&SetBlipRouteColour(c,o)),this._waypoints.push(c),c},e.prototype.clearWaypoints=function(){var t=this;this._waypoints.forEach((function(e){t.clearWaypoint(e,!0)})),this._waypoints=[]},e.prototype.clearWaypoint=function(t,e){void 0===e&&(e=!1),this.clearCheckpointByPosition(GetBlipCoords(t)),SetBlipRoute(t,!1),RemoveBlip(t),e||this._waypoints.splice(this._waypoints.indexOf(t),1)},e.prototype.createCheckpoint=function(t,e,n,r,o,i,a,s,c,u,l,f,p){var h=CreateCheckpoint(t,e,n,r,o,i,a,s,c,u,l,f,p);return this._checkpoints.set(h,[e,n,r,o,i,a]),h},e.prototype.clearCheckpoint=function(t){DeleteCheckpoint(t),this._checkpoints.has(t)&&this._checkpoints.delete(t)},e.prototype.clearCheckpointByPosition=function(t){var e=this,n=Array.from(this._checkpoints.keys()).find((function(n){return Math.floor(e._checkpoints.get(n)[0])===Math.floor(t[0])&&Math.floor(e._checkpoints.get(n)[1])===Math.floor(t[1])&&Math.floor(e._checkpoints.get(n)[2])===Math.floor(t[2])}));n&&this.clearCheckpoint(n)},e.prototype.createMarkers=function(t){var e,n=t.map((function(t){return kt(kt({},t),{instance:null})}));(e=this._markers).push.apply(e,n)},e.prototype.clearMarkers=function(){this._markers=[]},e.prototype.createVehicleAsync=function(t,e,n,r,o,i,a,s){return void 0===s&&(s=!1),St(this,void 0,void 0,(function(){var c,u;return Tt(this,(function(l){switch(l.label){case 0:c=0,RequestModel(t),l.label=1;case 1:return HasModelLoaded(t)?[3,3]:c>10?[2,0]:[4,ct(100)];case 2:return l.sent(),c++,[3,1];case 3:return(u=CreateVehicle(t,e,n,r,o,i,a))&&(a&&this._vehicles.push(u),s&&TaskWarpPedIntoVehicle(GetPlayerPed(-1),u,-1)),[2,u]}}))}))},e.prototype.removeVehicle=function(t){DoesEntityExist(t)&&DeleteEntity(t),this._vehicles.indexOf(t)>-1&&this._vehicles.splice(this._vehicles.indexOf(t),1)},e.prototype.removePed=function(t){DoesEntityExist(t)&&DeleteEntity(t),this._peds.indexOf(t)>-1&&this._peds.splice(this._peds.indexOf(t),1)},e.prototype.createPedInsideVehicleAsync=function(t,e,n,r,o,i){return St(this,void 0,void 0,(function(){var a,s;return Tt(this,(function(c){switch(c.label){case 0:a=0,RequestModel(n),c.label=1;case 1:return HasModelLoaded(n)?[3,3]:a>10?[2,0]:[4,ct(100)];case 2:return c.sent(),a++,[3,1];case 3:return(s=CreatePedInsideVehicle(t,e,n,r,o,i))&&this._peds.push(s),[2,s]}}))}))},e.prototype.createPedAsync=function(t,e,n,r,o,i,a,s){return St(this,void 0,void 0,(function(){var c,u;return Tt(this,(function(l){switch(l.label){case 0:c=0,RequestModel(e),l.label=1;case 1:return HasModelLoaded(e)?[3,3]:c>10?[2,0]:[4,ct(100)];case 2:return l.sent(),c++,[3,1];case 3:return(u=CreatePed(t,e,n,r,o,i,a,s))&&this._peds.push(u),[2,u]}}))}))},e.prototype.playAnimForPed=function(t,e,n,r,o,i,a){return void 0===o&&(o=0),void 0===i&&(i=8),void 0===a&&(a=8),St(this,void 0,void 0,(function(){var s;return Tt(this,(function(c){switch(c.label){case 0:s=0,RequestAnimDict(e),c.label=1;case 1:return HasAnimDictLoaded(e)?[3,3]:s>10?[2]:[4,ct(100)];case 2:return c.sent(),s++,[3,1];case 3:return HasAnimDictLoaded(e)&&TaskPlayAnim(t,e,n,i,a,r,o,0,!1,!1,!1),[2]}}))}))},e.prototype.setPedModelAsync=function(t,e){return St(this,void 0,void 0,(function(){var n;return Tt(this,(function(r){switch(r.label){case 0:n=0,RequestModel(e),r.label=1;case 1:return HasModelLoaded(e)?[3,3]:n>10?[2,!1]:[4,ct(100)];case 2:return r.sent(),n++,[3,1];case 3:return SetPlayerModel(t,e),SetModelAsNoLongerNeeded(e),[2,!0]}}))}))},e.prototype.assignDefaultEntityListeners=function(){var t=this;onNet("onResourceStop",(function(e){e===GetCurrentResourceName()&&(t._vehicles.forEach((function(e){t.removeVehicle(e)})),t._peds.forEach((function(e){t.removePed(e)})),t._vehicles=[],t._peds=[])}))},e.prototype.onRefreshPlayersInVirtualWorld=function(){var t=this;GetActivePlayers().forEach((function(e){var n=GetPlayerServerId(e);t.getPlayerInfo("virtualWorld")===t.getPlayerInfo("virtualWorld",n)?NetworkConcealPlayer(e,!1,!1):NetworkConcealPlayer(e,!0,!1)}))},Ot([xt({eventName:GetCurrentResourceName()+":refresh-virtual-world"}),Et("design:type",Function),Et("design:paramtypes",[]),Et("design:returntype",void 0)],e.prototype,"onRefreshPlayersInVirtualWorld",null),Ot([function(t){},Et("design:paramtypes",[])],e)}(wt),Nt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mt=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},At=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},It=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chunkRadius=75,e._actionPoints={},e._cachedPlayerPosition=[NaN,NaN],e._cachedPlayerRoundedPosition=[NaN,NaN],e._cachedIsPlayerInAnyVehicle=!1,e}var n;return Nt(e,t),Object.defineProperty(e.prototype,"actionPoints",{get:function(){return this._actionPoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedPlayerPosition",{get:function(){return this._cachedPlayerPosition},enumerable:!1,configurable:!0}),e.prototype.createMarkers=function(e){var n=this;t.prototype.createMarkers.call(this,e),this.createActionPoints.apply(this,e.map((function(t){return{id:GetCurrentResourceName()+"_marker_"+t.pos[0]+"_"+t.pos[1],pos:t.pos,range:t.renderDistance,action:function(){return e=n,r=void 0,i=function(){var e,n,r,o,i,a,s;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(c){switch(c.label){case 0:if(!t.textureDict||HasStreamedTextureDictLoaded(t.textureDict))return[3,3];RequestStreamedTextureDict(t.textureDict,!0),c.label=1;case 1:return HasStreamedTextureDictLoaded(t.textureDict)?[3,3]:[4,ct(100)];case 2:return c.sent(),[3,1];case 3:return DrawMarker(t.marker,t.pos[0],t.pos[1],t.pos[2],0,0,0,(null===(e=t.rotation)||void 0===e?void 0:e[0])||0,(null===(n=t.rotation)||void 0===n?void 0:n[1])||0,(null===(r=t.rotation)||void 0===r?void 0:r[2])||0,t.scale,t.scale,t.scale,t.rgba[0],t.rgba[1],t.rgba[2],t.rgba[3],!1,!0,2,!1,t.textureDict||null,t.textureName||null,!1),t.underlyingCircle&&DrawMarker(t.underlyingCircle.marker,t.pos[0],t.pos[1],t.pos[2]-.9,0,0,0,0,0,0,t.underlyingCircle.scale,t.underlyingCircle.scale,t.underlyingCircle.scale,(null===(o=t.underlyingCircle.rgba)||void 0===o?void 0:o[0])||t.rgba[0],(null===(i=t.underlyingCircle.rgba)||void 0===i?void 0:i[1])||t.rgba[1],(null===(a=t.underlyingCircle.rgba)||void 0===a?void 0:a[2])||t.rgba[2],(null===(s=t.underlyingCircle.rgba)||void 0===s?void 0:s[3])||t.rgba[3],!1,!0,2,!1,null,null,!1),[2]}}))},new((o=void 0)||(o=Promise))((function(t,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function s(t){try{c(i.throw(t))}catch(t){n(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(e,r||[])).next())}));var e,r,o,i}}})))},e.prototype.clearMarkers=function(){var e=this;this.markers.forEach((function(t){e.clearActionPoint(GetCurrentResourceName()+"_marker_"+t.pos[0]+"_"+t.pos[1])})),t.prototype.clearMarkers.call(this)},e.prototype.createActionPoints=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){t.createActionPoint(e)}))},e.prototype.createActionPoint=function(t){var e=this.roundToNearest(t.pos[0],this.chunkRadius),n=this.roundToNearest(t.pos[1],this.chunkRadius);this._actionPoints[e]||(this._actionPoints[e]={}),this.actionPoints[e][n]||(this._actionPoints[e][n]=[]),this._actionPoints[e][n].push(t)},e.prototype.clearActionPoint=function(t){var e=this;Object.keys(this._actionPoints).forEach((function(n){var r=Number(n);Object.keys(e._actionPoints[r]).forEach((function(n){var o=Number(n);e._actionPoints[r][o]=e._actionPoints[r][o].filter((function(e){return e.id!=t}))}))}))},e.prototype.clearActionPoints=function(){this._actionPoints={},this.removeFromTick(GetCurrentResourceName()+"_actionpoints")},e.prototype.actionPointExistsAtPosition=function(t,e,n){var r=this.roundToNearest(t,this.chunkRadius),o=this.roundToNearest(e,this.chunkRadius);return!(!this.actionPoints[r]||!this.actionPoints[r][o]||!this.actionPoints[r][o].find((function(r){return r.pos[0]==t&&r.pos[1]==e&&r.pos[2]==n})))},e.prototype.removeActionPoint=function(t){var e,n;(null===(n=null===(e=this._actionPoints[this.roundToNearest(t.pos[0],this.chunkRadius)])||void 0===e?void 0:e[this.roundToNearest(t.pos[1],this.chunkRadius)])||void 0===n?void 0:n.length)&&(this._actionPoints[this.roundToNearest(t.pos[0],this.chunkRadius)][this.roundToNearest(t.pos[1],this.chunkRadius)]=this._actionPoints[this.roundToNearest(t.pos[0],this.chunkRadius)][this.roundToNearest(t.pos[1],this.chunkRadius)].filter((function(e){return e.id!=t.id})))},e.prototype.onThreadTriggered=function(t){var e,n,r=this;if("chunk-checker"===t){this._cachedPlayerPosition=GetEntityCoords(PlayerPedId(),!0);var o=[this.roundToNearest(this._cachedPlayerPosition[0],this.chunkRadius),this.roundToNearest(this._cachedPlayerPosition[1],this.chunkRadius)],i=o[0],a=o[1];if(this._cachedPlayerRoundedPosition[0]==i&&this._cachedPlayerRoundedPosition[1]==a)return;this._cachedPlayerRoundedPosition=[i,a],this._cachedIsPlayerInAnyVehicle=IsPedInAnyVehicle(PlayerPedId(),!1),(null===(n=null===(e=this._actionPoints[this._cachedPlayerRoundedPosition[0]])||void 0===e?void 0:e[this._cachedPlayerRoundedPosition[1]])||void 0===n?void 0:n.length)?this.addToTickUnique({id:GetCurrentResourceName()+"_actionpoints",function:function(){for(var t,e,n,o,i=0;i<(null===(e=null===(t=r._actionPoints[r._cachedPlayerRoundedPosition[0]])||void 0===t?void 0:t[r._cachedPlayerRoundedPosition[1]])||void 0===e?void 0:e.length);i++){var a=null===(n=r._actionPoints[r._cachedPlayerRoundedPosition[0]])||void 0===n?void 0:n[r._cachedPlayerRoundedPosition[1]][i];if(c=[a.pos[0],a.pos[1],a.pos[2],r._cachedPlayerPosition[0],r._cachedPlayerPosition[1],a.pos[2]],u=void 0,l=void 0,f=void 0,u=c[3]-c[0],l=c[4]-c[1],f=c[5]-c[2],Math.hypot(u,l,f)<=(a.range||1)+(r._cachedIsPlayerInAnyVehicle&&!a.onfootOnly?5:0)){var s=(!a.onceIf||a.onceIf())&&(!a.onfootOnly||!IsPedInAnyVehicle(PlayerPedId(),!1))&&(!a.inVehicleOnly||IsPedInAnyVehicle(PlayerPedId(),!1));s&&a.action(),(a.once||a.onceIf)&&s&&(null===(o=r._actionPoints[r._cachedPlayerRoundedPosition[0]])||void 0===o||o[r._cachedPlayerRoundedPosition[1]].splice(i,1),i--)}}var c,u,l,f}}):this.removeFromTick(GetCurrentResourceName()+"_actionpoints")}},e.prototype.debug_ActionPoints=function(){var t,e,n=this,r=0,o=(null===(e=null===(t=this.actionPoints[this.roundToNearest(this._cachedPlayerPosition[0],this.chunkRadius)])||void 0===t?void 0:t[this.roundToNearest(this._cachedPlayerPosition[1],this.chunkRadius)])||void 0===e?void 0:e.length)||0;Object.keys(this.actionPoints).forEach((function(t){var e=Number(t);Object.keys(n.actionPoints[e]).forEach((function(t){var o=Number(t);r+=n.actionPoints[e][o].length}))})),console.log("Total action points: "+r+". Action points in this area: "+o)},e.prototype.roundToNearest=function(t,e){return Math.round(t/e)*e},Mt([xt({eventName:"armoury:thread-triggerer",direction:$.CLIENT_TO_CLIENT}),At("design:type",Function),At("design:paramtypes",[String]),At("design:returntype",void 0)],e.prototype,"onThreadTriggered",null),Mt([(n={suffix:"_"+GetCurrentResourceName()},function(t,e){Reflect.defineMetadata("command_"+e,n,t)}),At("design:type",Function),At("design:paramtypes",[]),At("design:returntype",void 0)],e.prototype,"debug_ActionPoints",null),Mt([function(t){}],e)}(jt),Bt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bt(e,t),e.prototype.addToFeed=function(t){void 0===t&&(t=8e3);for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];e.forEach((function(e,n){setTimeout((function(){BeginTextCommandThefeedPost("STRING"),AddTextComponentSubstringPlayerName(e),EndTextCommandThefeedPostTicker(!1,!0)}),n*t)}))},e}(It),Ft=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._translationLanguage="en",e}Ft(e,t),Object.defineProperty(e.prototype,"translationLanguage",{get:function(){return this._translationLanguage},enumerable:!1,configurable:!0}),e.prototype.translate=function(t,e){var n=this.translationFile[this._translationLanguage][t];return e&&Object.keys(e).forEach((function(t){n=n.replace("{"+t+"}",e[t])})),n},e.prototype.setTranslationLanguage=function(t){this._translationLanguage=t}}(Dt);var Gt=function(){function t(){this.routingBucketCondition=function(t,e){return!0},this.assignServerBaseListeners()}return t.prototype.RegisterAdminCommand=function(t,e,n,r){RegisterCommand(t,(function(t,r,o){Number(exports.authentication.getPlayerInfo(t,"adminLevel"))<e||n(t,r,o)}),r)},t.prototype.assignServerBaseListeners=function(){var t=this;onNet(GetCurrentResourceName()+":set-client-routing-bucket",(function(e,n){t.routingBucketCondition(e,n)&&SetEntityRoutingBucket(e,n)}))},t.prototype.setRoutingBucket=function(t,e){SetEntityRoutingBucket(GetPlayerPed(t.toString()),e),TriggerClientEvent(GetCurrentResourceName()+":set-routing-bucket",t,e)},t}(),Lt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wt=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Vt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Kt=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},qt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._virtualWorldsWithPlayers=new Map,e}return Lt(e,t),Object.defineProperty(e.prototype,"virtualWorldsWithPlayers",{get:function(){return this._virtualWorldsWithPlayers},enumerable:!1,configurable:!0}),e.prototype.onPlayerEnteredScope=function(t){TriggerClientEvent(GetCurrentResourceName()+":refresh-virtual-world",t.for)},e.prototype.setPlayerVirtualWorld=function(t,e){var n=this.getPlayerVirtualWorld(t);isNaN(n)||this._virtualWorldsWithPlayers.set(n,(this._virtualWorldsWithPlayers.has(n)?this._virtualWorldsWithPlayers.get(n):[]).filter((function(e){return e!==t})));var r=Kt(Kt([],this._virtualWorldsWithPlayers.has(e)?this._virtualWorldsWithPlayers.get(e):[],!0),[t],!1);this._virtualWorldsWithPlayers.set(e,r),exports.authentication.setPlayerInfo(t,"virtualWorld",e)},e.prototype.getPlayerVirtualWorld=function(t){return Math.max(0,Number(exports.authentication.getPlayerInfo(t,"virtualWorld")))},e.prototype.removeClientsideVehicles=function(){TriggerClientEvent(GetCurrentResourceName()+":ARM_remove-vehicles",-1)},Wt([xt({eventName:"playerEnteredScope"}),Vt("design:type",Function),Vt("design:paramtypes",[Object]),Vt("design:returntype",void 0)],e.prototype,"onPlayerEnteredScope",null),Wt([function(t){}],e)}(Gt),Ht=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ut=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},zt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._translationLanguage="en",e._clientsidedResourceMap=new Map,e}return Ht(e,t),Object.defineProperty(e.prototype,"translationLanguage",{get:function(){return this._translationLanguage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientsidedResourceMap",{get:function(){return this._clientsidedResourceMap},enumerable:!1,configurable:!0}),e.prototype.getPlayerClientsidedCacheKey=function(t,e){if(this._clientsidedResourceMap.has(t)){var n=this._clientsidedResourceMap.get(t);if(n[e])return n[e]}return null},e.prototype.updatePlayerClientsidedCacheKey=function(t,e,n){var r=this._clientsidedResourceMap.has(t)&&this._clientsidedResourceMap.get(t)||{};r[e]=n,this._clientsidedResourceMap.set(t,r),TriggerClientEvent("armoury-overlay:update-resource-metadata",t,GetCurrentResourceName(),e,n)},e.prototype.onPlayerClientsidedCacheLoaded=function(t){t[GetCurrentResourceName()]&&this._clientsidedResourceMap.set(source,t[GetCurrentResourceName()])},e.prototype.onPlayerDisconnect=function(){this._clientsidedResourceMap.has(source)&&this._clientsidedResourceMap.delete(source)},e.prototype.translate=function(t,e){var n=this.translationFile[this._translationLanguage][t];return e&&Object.keys(e).forEach((function(t){n=n.replace("{"+t+"}",e[t])})),n},e.prototype.setTranslationLanguage=function(t){this._translationLanguage=t},Ut([xt(),zt("design:type",Function),zt("design:paramtypes",[Object]),zt("design:returntype",void 0)],e.prototype,"onPlayerClientsidedCacheLoaded",null),Ut([xt(),zt("design:type",Function),zt("design:paramtypes",[]),zt("design:returntype",void 0)],e.prototype,"onPlayerDisconnect",null),Ut([function(t){}],e)}(qt),Jt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$t=function(){return $t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},$t.apply(this,arguments)},Qt=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Xt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},te=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ee=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};!function(t){function e(e,n){void 0===n&&(n=!1);var r=t.call(this)||this;return r.dbTableName=e,r._entities=[],r._cachedProperties=[],r._playerToEntityBindings=new Map,r.computeTableProperties(),n&&r.loadDBEntities(),r}Jt(e,t),Object.defineProperty(e.prototype,"entities",{get:function(){return this._entities},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedProperties",{get:function(){return this._cachedProperties},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerToEntityBindings",{get:function(){return this._playerToEntityBindings},enumerable:!1,configurable:!0}),e.prototype.getEntities=function(){return this._entities},e.prototype.createEntity=function(t,e){return Zt(this,void 0,void 0,(function(){var n,r,o,i,a;return te(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n=this.getEntityProperties(t),r=this.getEntityPropertiesValues(t,n),e&&(n=ee(["id"],n,!0),r=ee([e.toString()],r,!0)),[4,exports.oxmysql.insert_async("INSERT INTO `"+this.dbTableName+"` ("+n.join(", ")+") VALUES ("+Array(n.length).fill("?").join(", ")+")",r)];case 1:return o=s.sent(),i=$t($t({},t),{id:e||o}),this._entities.push(i),this.syncWithClients(),[2,i];case 2:return a=s.sent(),console.log(a),[2,null];case 3:return[2]}}))}))},e.prototype.removeEntity=function(t){return Zt(this,void 0,void 0,(function(){var e,n;return te(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,exports.oxmysql.query_async("DELETE FROM `"+this.dbTableName+"` WHERE id = ?",[t.id])];case 1:return e=r.sent(),this._entities=this._entities.filter((function(e){return e.id!==t.id})),this.syncWithClients(),[2,!!e];case 2:return n=r.sent(),console.log(n),[2,!1];case 3:return[2]}}))}))},e.prototype.saveDBEntityAsync=function(t){return Zt(this,void 0,void 0,(function(){var e,n,r,o,i,a;return te(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),(e=this.getEntityByDBId(t))?(n=this.getEntityProperties(e),r=this.getEntityPropertiesValues(e,n),o=" = ?, ",[4,exports.oxmysql.update_async("UPDATE `"+this.dbTableName+"` SET "+n.join(o).concat(o).slice(0,-2)+" WHERE id = ?",ee(ee([],r,!0),[e.id],!1))]):[2,!1];case 1:return(i=s.sent())&&this.syncWithClients(),[2,i>0];case 2:return a=s.sent(),console.log(a),[2,!1];case 3:return[2]}}))}))},e.prototype.getEntityByDBId=function(t){return this._entities.find((function(e){return e.id===t}))},e.prototype.loadDBEntityFor=function(t,e,n){return void 0===e&&(e="id"),Zt(this,void 0,void 0,(function(){var r,o=this;return te(this,(function(i){switch(i.label){case 0:return[4,exports.oxmysql.query_async("SELECT * FROM `"+this.dbTableName+"` WHERE "+e+" = ?",[t])];case 1:return(null==(r=i.sent().map((function(t){return Object.keys(t).forEach((function(e){t[e]=JSON.parse(ut(t[e].toString())?t[e]:'"'+t[e]+'"',(function(t,e){return"object"==typeof e||isNaN(e)?e:Number(e)}))})),t})))?void 0:r.length)?(r.forEach((function(t){o._entities.push(t),n&&o.bindEntityToPlayerByEntityId(t.id,n)})),setTimeout((function(){o.syncWithClients()}),2e3),[2,(null==r?void 0:r.length)>1?r:r[0]]):[2,null]}}))}))},e.prototype.loadDBEntities=function(){return Zt(this,void 0,void 0,(function(){var t,e=this;return te(this,(function(n){switch(n.label){case 0:return[4,exports.oxmysql.query_async("SELECT * FROM `"+this.dbTableName+"`",[])];case 1:return(null==(t=n.sent().map((function(t){return Object.keys(t).forEach((function(e){t[e]=JSON.parse(ut(t[e].toString())?t[e]:'"'+t[e]+'"',(function(t,e){return"object"==typeof e||isNaN(e)?e:Number(e)}))})),t})))?void 0:t.length)&&(this._entities=t,setTimeout((function(){e.syncWithClients()}),2e3)),[2,this._entities]}}))}))},e.prototype.getEntityProperties=function(t){var e=[];for(var n in t)"id"===n||this._cachedProperties.length&&!this._cachedProperties.includes(n)||e.push(n);return e},e.prototype.getEntityPropertiesValues=function(t,e){return e.map((function(e){return Array.isArray(t[e])||"object"==typeof t[e]?JSON.stringify(t[e]):t[e].toString()}))},e.prototype.syncWithClients=function(t){TriggerClientEvent(GetCurrentResourceName()+":db-send-entities",t||-1,this.entities)},e.prototype.bindEntityToPlayer=function(t,e){this.entities.includes(t)&&this.bindEntityToPlayerByEntityId(t.id,e)},e.prototype.bindEntityToPlayerByEntityId=function(t,e){this._entities.some((function(e){return e.id===t}))&&(this._playerToEntityBindings.has(e)?this._playerToEntityBindings.set(e,ee(ee([],this._playerToEntityBindings.get(e),!0),[t],!1)):this._playerToEntityBindings.set(e,[t]))},e.prototype.onBoundEntityDestroyed=function(t,e){},e.prototype.onPlayerAuthenticate=function(t,e){this._entities.length&&this.syncWithClients(t)},e.prototype.onPlayerDisconnect=function(){var t=this;this._playerToEntityBindings.has(source)&&((this._playerToEntityBindings.has(source)?this._playerToEntityBindings.get(source):[]).forEach((function(e){var n=t._entities.find((function(t){return t.id===e}));n&&(t.onBoundEntityDestroyed(n,source),t._entities.splice(t._entities.indexOf(n),1))})),this._playerToEntityBindings.delete(source))},e.prototype.computeTableProperties=function(){return Zt(this,void 0,void 0,(function(){var t,e=this;return te(this,(function(n){switch(n.label){case 0:return[4,exports.oxmysql.query_async("DESCRIBE "+this.dbTableName,[])];case 1:return(t=n.sent())?t.forEach((function(t){e._cachedProperties.push(t.Field)})):console.error("[SQL ERROR:] computeTableProperties for "+GetCurrentResourceName()+" did not work."),[2]}}))}))},Qt([function(t,e){Reflect.defineMetadata("export_"+e,e,t,e)},Xt("design:type",Function),Xt("design:paramtypes",[]),Xt("design:returntype",Array)],e.prototype,"getEntities",null),Qt([xt(),Xt("design:type",Function),Xt("design:paramtypes",[Number,Object]),Xt("design:returntype",void 0)],e.prototype,"onPlayerAuthenticate",null),Qt([xt(),Xt("design:type",Function),Xt("design:paramtypes",[]),Xt("design:returntype",void 0)],e.prototype,"onPlayerDisconnect",null),e=Qt([function(t){},Xt("design:paramtypes",[String,Boolean])],e)}(Yt);var ne,re,oe,ie,ae={trucker:{pos:[124.60220336914062,-2682.474609375,10.229248046875]},carrier:{pos:[-439.8214,-2786.469,6.000384]},garbageman:{pos:[-267.5868225097656,197.41978454589844,89.22119140625]}},se=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ce=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ue=function(t){function e(){var e=t.call(this)||this;return e.createdVehicles=[],e.registerCommands(),e}return se(e,t),e.prototype.registerCommands=function(){var t=this;this.RegisterAdminCommand("tp",1,(function(t,e){e.length?ae[e[0]]?SetEntityCoords(GetPlayerPed(t.toString()),ae[e[0]].pos[0],ae[e[0]].pos[1],ae[e[0]].pos[2],!0,!1,!1,!1):Number(e[0])&&Number(e[1])&&Number(e[2])?(SetEntityCoords(GetPlayerPed(t.toString()),Number(e[0]),Number(e[1]),Number(e[2]),!0,!1,!1,!1),setTimeout((function(){}),800),TriggerClientEvent("".concat(GetCurrentResourceName(),":send-updated-position"),t,e)):console.log("No teleport with name ".concat(e[0])):console.log("Error! Use /tp <location>.")}),!1),this.RegisterAdminCommand("veh",3,(function(e,n,r){if(n[0]){var o=n[0].toString(),i=GetEntityCoords(GetPlayerPed(e.toString())),a=CreateVehicle(o,i[0],i[1],i[2],0,!0,!0);TaskWarpPedIntoVehicle(GetPlayerPed(e.toString()),a,-1),SetVehicleCustomPrimaryColour(a,0,0,0),SetVehicleCustomSecondaryColour(a,0,0,0),t.createdVehicles.push(a)}else console.log("ERROR! You should use /veh <vehiclename> <color>")}),!1),this.RegisterAdminCommand("destroyvehicles",3,(function(e,n,r){t.createdVehicles.forEach((function(t){DoesEntityExist(t)&&DeleteEntity(t)})),t.createdVehicles=[]}),!1),this.RegisterAdminCommand("gotoveh",3,(function(t,e){if(e.length){var n=GetEntityCoords(Number(e[0]));SetEntityCoords(GetPlayerPed(t.toString()),n[0],n[1],n[2],!0,!1,!1,!0)}}),!1),this.RegisterAdminCommand("getveh",3,(function(t,e){if(e.length){var n=GetEntityCoords(GetPlayerPed(t.toString()));SetEntityCoords(Number(e[0]),n[0],n[1]+1,n[2]+1,!0,!1,!1,!0)}}),!1),this.RegisterAdminCommand("setroutingbucket",1,(function(t,e){if(e.length){var n=Number(e[0]),r=Number(e[1]);exports.armoury.isPlayerOnline(n)&&(SetEntityRoutingBucket(GetPlayerPed(n.toString()),r),console.log("Teleported to ".concat(e[0],".")))}else console.log("ERROR! You should use /setroutingbucket <player-name> <routingBucket>")}),!1),RegisterCommand("stats",(function(t){console.log("Routing bucket:",GetEntityRoutingBucket(GetPlayerPed(t.toString())))}),!1),this.RegisterAdminCommand("goto",1,(function(t,e){if(e.length){var n=Number(e[0]);if(exports.armoury.isPlayerOnline(n)){var r=GetEntityCoords(GetPlayerPed(n.toString()));SetEntityCoords(GetPlayerPed(t.toString()),r[0]+1,r[1],r[2],!0,!1,!1,!0),SetEntityRoutingBucket(GetPlayerPed(t.toString()),GetEntityRoutingBucket(GetPlayerPed(n.toString()))),console.log("Teleported to ".concat(e[0],"."))}}else console.log("ERROR! You should use /goto <player-name>")}),!1),this.RegisterAdminCommand("gethere",2,(function(t,e){if(e.length){var n=GetEntityCoords(GetPlayerPed(t.toString())),r=Number(e[0]);exports.armoury.isPlayerOnline(r)&&(SetEntityCoords(GetPlayerPed(r.toString()),n[0]+1,n[1],n[2],!0,!1,!1,!0),SetEntityRoutingBucket(GetPlayerPed(r.toString()),GetEntityRoutingBucket(GetPlayerPed(t.toString()))),console.log("Teleported ".concat(e[0]," to you.")))}else console.log("ERROR! You should use /gethere <player-name>")}),!1),this.RegisterAdminCommand("setstat",5,(function(t,e){if(e.length<3)return console.log("ERROR! You should use /setstat <player-name> <stat> <value>"),void console.log("Stats you can set: ".concat(["skills"].join(", ")));var n=Number(e[0]);return exports.armoury.isPlayerOnline(n)?"skills"===e[1]?e[3]?Number(e[3])?(exports.skills.updatePlayerSkill(n,e[2],e[3]),void console.log("Skill ".concat(e[2]," updated successfuly for player ").concat(e[0]," "))):void console.log("".concat(e[3]," is not a valid value.")):void console.log("Give a value to said skill, using /setstat <player-name> skills <skill> <value>"):void console.log("No stat with name ".concat(e[1]," found")):void 0}),!1),this.RegisterAdminCommand("setcash",5,(function(t,e){if(e.length<2)console.log("ERROR! You should use /setcash <player-name> <value>");else{var n=Number(e[0]);exports.armoury.isPlayerOnline(n)&&(Number(e[1])?(exports.authentication.setPlayerInfo(n,"cash",Number(e[1]),!1),console.log("".concat(e[0],"'s cash was set to ").concat(e[1],"$."))):console.log("".concat(e[1]," is not a valid value")))}}),!1),this.RegisterAdminCommand("givecash",5,(function(t,e){if(e.length<2)console.log("ERROR! You should use /givecash <player-name> <value>");else{var n=Number(e[0]);if(exports.armoury.isPlayerOnline(n))if(Number(e[1])){var r=exports.authentication.getPlayerInfo(n,"cash");exports.authentication.setPlayerInfo(n,"cash",Number(e[1])+r,!1),console.log("".concat(e[0]," received ").concat(e[1],"$."))}else console.log("".concat(e[1]," is not a valid value."))}}),!1),this.RegisterAdminCommand("giveweapon",4,(function(t,e){if(e.length<3)console.log("ERROR! You should use /giveweapons <player-name> <weapon-name> <no-of-bullets>");else{var n=Number(e[0]);if(exports.armoury.isPlayerOnline(n)){if(Number(e[2]))throw new Error("Not implemented");console.log("".concat(e[2]," is not a valid value."))}}}),!1),this.RegisterAdminCommand("removeweapons",3,(function(t,e){if(e.length){var n=Number(e[0]);exports.armoury.isPlayerOnline(n)&&(exports.weapons.removePlayerWeapons(n),console.log("Succesfully removed ".concat(e[0],"'s weapons.")))}else console.log("ERROR! You should use /removeweapons <player-name>")}),!1),this.RegisterAdminCommand("agivedrugs",5,(function(t,e){if(e.length<3)console.log("Error! Use /agivedrugs <target> <drug-type> <amount>");else{var n=Number(e[0]);exports.armoury.isPlayerOnline(n)&&(Number(e[2])?exports.drugs.verifyDrugType(e[1])?(exports.drugs.givePlayerDrugs(n,e[1],Number(e[2])),console.log("Succesfully gave ".concat(e[0]," ").concat(e[2],"g of ").concat(e[1],"."))):console.log("Invalid drug type (".concat(e[1],"). Types: cocaine/marijuana")):console.log("".concat(e[2]," is not a valid value.")))}}),!1),this.RegisterAdminCommand("aremovedrugs",5,(function(t,e){if(e.length<2)console.log("Error! Use /aremovedrugs <target> <drug-type> <amount?>");else{var n=Number(e[0]);exports.armoury.isPlayerOnline(n)&&(exports.drugs.verifyDrugType(e[1])?exports.drugs.removePlayerDrugs(n,e[1],Number(e[2])):console.log("Invalid drug type (".concat(e[1],"). Types: cocaine/marijuana")))}}),!1)},e.prototype.onAdminMenuOpen=function(t){exports["armoury-overlay"].showContextMenu(source,t)},function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);i>3&&a&&Object.defineProperty(e,n,a)}([xt({eventName:"".concat(GetCurrentResourceName(),":open-admin-menu")}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",void 0)],e.prototype,"onAdminMenuOpen",null),e}(Yt);ne=ue,ie=X.resolveAndCreate([ne]).get(ne),re=ie,oe=ne.prototype,Reflect.getOwnMetadataKeys(oe).filter((function(t){return t.startsWith("command_")})).forEach((function(t){var e=Reflect.getOwnMetadata(t,oe),n=(Reflect.getOwnMetadata(t.split("_").slice(1).join("_"),re)?"+":"")+t.split("_").slice(1).join("_").toLowerCase()+((null==e?void 0:e.suffix)||"");IsDuplicityVersion()?RegisterCommand(n,(function(t,r,o){(null==e?void 0:e.adminLevelRequired)&&Number(exports.authentication.getPlayerInfo(t,"adminLevel"))<(null==e?void 0:e.adminLevelRequired)||re[n].call(re,t,r,o)}),!1):RegisterCommand(n,(function(t,e,r){re[n].call(re,e,r)}),!1)})),function(t,e){Reflect.getOwnMetadataKeys(e).filter((function(t){return t.startsWith("eventListener_")})).forEach((function(n){var r=Reflect.getOwnMetadata(n,e),o=r.eventName;r.direction===$.CLIENT_TO_CLIENT?on(o,t[o].bind(t)):onNet(o,t[o].bind(t))}))}(ie,ne.prototype),function(t,e){Reflect.getOwnMetadataKeys(e).filter((function(t){return t.startsWith("export_")})).forEach((function(e){var n=e.split("_").slice(1).join("_");exports(n,t[n].bind(t))}))}(ie,ne.prototype),function(t,e){Reflect.getOwnMetadataKeys(e).filter((function(t){return t.startsWith("keybinding_")})).forEach((function(t){var n=t.split("_").slice(1).join("_"),r=Reflect.getOwnMetadata(t,e),o=r.command||n;o?RegisterKeyMapping("+"+o.toLowerCase(),r.description,r.defaultMapper,r.key):console.error("Could not find any relevant command for key binding "+n)}))}(0,ne.prototype)})()})();