(()=>{"use strict";const e=(e,t,s,r,o,n,i)=>e>=r-i&&e<=r+i&&t>=o-i&&t<=o+i&&s>=n-i&&s<=n+i;var t,s;!function(e){e[e.CARGO=0]="CARGO",e[e.ELECTRICITY=1]="ELECTRICITY",e[e.OIL=2]="OIL"}(t||(t={})),function(e){e[e.MAIN=0]="MAIN",e[e.LEGAL=1]="LEGAL",e[e.ILLEGAL=2]="ILLEGAL"}(s||(s={})),new Map([[t.OIL,[-1207431159,-730904777,1956216962]],[t.ELECTRICITY,[-2140210194]],[t.CARGO,[-1770643266,-877478386]]]);const r=[{pos:[1367.4593505859375,-1867.7406005859375,55.172119140625],type:t.OIL},{pos:[1398.2901611328125,-2062.23291015625,50.5216064453125],type:t.OIL},{pos:[2678.835205078125,1602.778076171875,23.03955078125],type:t.OIL},{pos:[2815.7802734375,1561.4505615234375,23.10693359375],type:t.ELECTRICITY},{pos:[2046.909912109375,3183.61328125,43.5626220703125],type:t.CARGO},{pos:[1567.79345703125,3791.630859375,32.8125],type:t.CARGO},{pos:[346.8791198730469,3418.773681640625,34.952392578125],type:t.ELECTRICITY},{pos:[258.0659484863281,2849.630859375,42.13037109375],type:t.ELECTRICITY},{pos:[592.5758056640625,2733.454833984375,40.6138916015625],type:t.CARGO}],o={OIL:1e3,ELECTRICITY:1500,"CARGO 1":1200,"CARGO 2":1500,"CARGO 3":2400,"CARGO 4":3200};new class extends class extends class extends class{constructor(){this.routingBucketCondition=(e,t)=>!0,this.assignServerBaseListeners()}RegisterAdminCommand(e,t,s,r){RegisterCommand(e,((e,r,o)=>{Number(global.exports.authentication.getPlayerInfo(e,"adminLevel"))<t||s(e,r,o)}),r)}assignServerBaseListeners(){onNet(`${GetCurrentResourceName()}:set-client-routing-bucket`,((e,t)=>{this.routingBucketCondition(e,t)&&SetEntityRoutingBucket(e,t)}))}}{removeClientsideVehicles(){TriggerClientEvent(`${GetCurrentResourceName()}:ARM_remove-vehicles`,-1)}}{}{constructor(){super(),this.truckers={},this.assignEvents()}assignEvents(){onNet(`${GetCurrentResourceName()}:quick-start`,(t=>{this.truckers[source]=t;const s=GetEntityCoords(GetPlayerPed(source),!0),o=r.filter((r=>!e(s[0],s[1],s[2],r.pos[0],r.pos[1],r.pos[2],30)&&r.type===this.decideDeliveryType(t))),n=o[Math.floor(Math.random()*o.length)].pos;TriggerClientEvent("trucker-job:begin-job",source,{X:n[0],Y:n[1],Z:n[2]},t)})),onNet(`${GetCurrentResourceName()}:get-job`,(()=>{global.exports.authentication.setPlayerInfo(source,"job","trucker",!1),TriggerClientEvent("trucker-job:job-assigned",source)})),onNet(`${GetCurrentResourceName()}:job-finished`,(()=>{const t=GetEntityCoords(GetPlayerPed(source),!0);r.forEach((s=>{if(e(t[0],t[1],t[2],s.pos[0],s.pos[1],s.pos[2],15))return exports.authentication.setPlayerInfo(source,"cash",Number(exports.authentication.getPlayerInfo(source,"cash"))+(o[this.truckers[source]]+Math.floor(Math.random()*o[this.truckers[source]])),!1),TriggerClientEvent(`${GetCurrentResourceName()}:force-showui`,source),global.exports.skills.incrementPlayerSkill(source,"trucker",.05),void delete this.truckers[source]}))}))}decideDeliveryType(e){switch(e){case"OIL":return 0;case"ELECTRICITY":return 1;default:return 2}}}})();