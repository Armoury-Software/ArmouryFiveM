/*! For license information please see 59c5e7faf33f2fb3a287.server.js.LICENSE.txt */
(()=>{var e={662:()=>{var e;!function(e){!function(t){var n="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function(){try{return Function("return this;")()}catch(e){}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}(),r=o(e);function o(e,t){return function(n,r){Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0!==n.Reflect&&(r=o(n.Reflect,r)),function(e,t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!a&&!s,u={create:a?function(){return W(Object.create(null))}:s?function(){return W({__proto__:null})}:function(){return W({})},has:c?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:c?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,A(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){if(!A(this._cacheKey,e)){this._cacheIndex=-1;for(var n=0;n<this._keys.length;n++)if(A(this._keys[n],e)){this._cacheIndex=n;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}(),p="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}(),d="function"==typeof WeakMap?WeakMap:function(){var e=16,t=u.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+s()}while(u.has(t,e));return t[e]=!0,e}function i(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(){var t,n=(t=e,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t):a(new Array(t),t));n[6]=79&n[6]|64,n[8]=191&n[8]|128;for(var r="",o=0;o<e;++o){var i=n[o];4!==o&&6!==o&&8!==o||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}(),y=r?Symbol.for("@reflect-metadata:registry"):void 0,h=function(){var e;return!R(y)&&O(t.Reflect)&&Object.isExtensible(t.Reflect)&&(e=t.Reflect[y]),R(e)&&(e=function(){var e,n,r,o;R(y)||void 0===t.Reflect||y in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(e=function(e){var t=e.defineMetadata,n=e.hasOwnMetadata,r=e.getOwnMetadata,o=e.getOwnMetadataKeys,i=e.deleteMetadata,a=new d;return{isProviderFor:function(e,t){var n=a.get(e);return R(n)?!!o(e,t).length&&(R(n)&&(n=new p,a.set(e,n)),n.add(t),!0):n.has(t)},OrdinaryDefineOwnMetadata:t,OrdinaryHasOwnMetadata:n,OrdinaryGetOwnMetadata:r,OrdinaryOwnMetadataKeys:o,OrdinaryDeleteMetadata:i}}(t.Reflect));var i=new d,a={registerProvider:s,getProvider:u,setProvider:h};return a;function s(t){if(!Object.isExtensible(a))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case e===t:break;case R(n):n=t;break;case n===t:break;case R(r):r=t;break;case r===t:break;default:void 0===o&&(o=new p),o.add(t)}}function c(t,i){if(!R(n)){if(n.isProviderFor(t,i))return n;if(!R(r)){if(r.isProviderFor(t,i))return n;if(!R(o))for(var a=B(o);;){var s=F(a);if(!s)return;var c=D(s);if(c.isProviderFor(t,i))return L(a),c}}}if(!R(e)&&e.isProviderFor(t,i))return e}function u(e,t){var n,r=i.get(e);return R(r)||(n=r.get(t)),R(n)?(R(n=c(e,t))||(R(r)&&(r=new f,i.set(e,r)),r.set(t,n)),n):n}function l(e){if(R(e))throw new TypeError;return n===e||r===e||!R(o)&&o.has(e)}function h(e,t,n){if(!l(n))throw new Error("Metadata provider not registered.");var r=u(e,t);if(r!==n){if(!R(r))return!1;var o=i.get(e);R(o)&&(o=new f,i.set(e,o)),o.set(t,n)}return!0}}()),!R(y)&&O(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,y,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}(),v=function(e){var t=new d,n={isProviderFor:function(e,n){var r=t.get(e);return!R(r)&&r.has(n)},OrdinaryDefineOwnMetadata:function(e,t,n,o){r(n,o,!0).set(e,t)},OrdinaryHasOwnMetadata:function(e,t,n){var o=r(t,n,!1);return!R(o)&&S(o.has(e))},OrdinaryGetOwnMetadata:function(e,t,n){var o=r(t,n,!1);if(!R(o))return o.get(e)},OrdinaryOwnMetadataKeys:function(e,t){var n=[],o=r(e,t,!1);if(R(o))return n;for(var i=B(o.keys()),a=0;;){var s=F(i);if(!s)return n.length=a,n;var c=D(s);try{n[a]=c}catch(e){try{L(i)}finally{throw e}}a++}},OrdinaryDeleteMetadata:function(e,n,o){var i=r(n,o,!1);if(R(i))return!1;if(!i.delete(e))return!1;if(0===i.size){var a=t.get(n);R(a)||(a.delete(o),0===a.size&&t.delete(a))}return!0}};return h.registerProvider(n),n;function r(r,o,i){var a=t.get(r),s=!1;if(R(a)){if(!i)return;a=new f,t.set(r,a),s=!0}var c=a.get(o);if(R(c)){if(!i)return;if(c=new f,a.set(o,c),!e.setProvider(r,o,n))throw a.delete(o),s&&t.delete(r),new Error("Wrong provider for target.")}return c}}(h);function g(e,t,n){if(C(e,t,n))return!0;var r=G(t);return!k(r)&&g(e,r,n)}function C(e,t,n){var r=V(t,n,!1);return!R(r)&&S(r.OrdinaryHasOwnMetadata(e,t,n))}function b(e,t,n){if(C(e,t,n))return m(e,t,n);var r=G(t);return k(r)?void 0:b(e,r,n)}function m(e,t,n){var r=V(t,n,!1);if(!R(r))return r.OrdinaryGetOwnMetadata(e,t,n)}function _(e,t,n,r){V(n,r,!0).OrdinaryDefineOwnMetadata(e,t,n,r)}function x(e,t){var n=P(e,t),r=G(e);if(null===r)return n;var o=x(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new p,a=[],s=0,c=n;s<c.length;s++){var u=c[s];i.has(u)||(i.add(u),a.push(u))}for(var l=0,f=o;l<f.length;l++)u=f[l],i.has(u)||(i.add(u),a.push(u));return a}function P(e,t){var n=V(e,t,!1);return n?n.OrdinaryOwnMetadataKeys(e,t):[]}function w(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function R(e){return void 0===e}function k(e){return null===e}function O(e){return"object"==typeof e?null!==e:"function"==typeof e}function E(e,t){switch(w(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=I(e,o);if(void 0!==r){var i=r.call(e,n);if(O(i))throw new TypeError;return i}return function(e,t){if("string"===t){var n=e.toString;if(j(n)&&!O(o=n.call(e)))return o;if(j(r=e.valueOf)&&!O(o=r.call(e)))return o}else{var r;if(j(r=e.valueOf)&&!O(o=r.call(e)))return o;var o,i=e.toString;if(j(i)&&!O(o=i.call(e)))return o}throw new TypeError}(e,"default"===n?"number":n)}function S(e){return!!e}function N(e){var t=E(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function T(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function j(e){return"function"==typeof e}function M(e){return"function"==typeof e}function A(e,t){return e===t||e!=e&&t!=t}function I(e,t){var n=e[t];if(null!=n){if(!j(n))throw new TypeError;return n}}function B(e){var t=I(e,i);if(!j(t))throw new TypeError;var n=t.call(e);if(!O(n))throw new TypeError;return n}function D(e){return e.value}function F(e){var t=e.next();return!t.done&&t}function L(e){var t=e.return;t&&t.call(e)}function G(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function V(e,t,n){var r=h.getProvider(e,t);if(!R(r))return r;if(n){if(h.setProvider(e,t,v))return v;throw new Error("Illegal state.")}}function W(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,r){if(R(n)){if(!T(e))throw new TypeError;if(!M(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!R(r)&&!k(r)){if(!M(r))throw new TypeError;t=r}}return t}(e,t)}if(!T(e))throw new TypeError;if(!O(t))throw new TypeError;if(!O(r)&&!R(r)&&!k(r))throw new TypeError;return k(r)&&(r=void 0),function(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,n,r);if(!R(i)&&!k(i)){if(!O(i))throw new TypeError;r=i}}return r}(e,t,n=N(n),r)})),e("metadata",(function(e,t){return function(n,r){if(!O(n))throw new TypeError;if(!R(r)&&!function(e){switch(w(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;_(e,t,n,r)}})),e("defineMetadata",(function(e,t,n,r){if(!O(n))throw new TypeError;return R(r)||(r=N(r)),_(e,t,n,r)})),e("hasMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return R(n)||(n=N(n)),g(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return R(n)||(n=N(n)),C(e,t,n)})),e("getMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return R(n)||(n=N(n)),b(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return R(n)||(n=N(n)),m(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!O(e))throw new TypeError;return R(t)||(t=N(t)),x(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!O(e))throw new TypeError;return R(t)||(t=N(t)),P(e,t)})),e("deleteMetadata",(function(e,t,n){if(!O(t))throw new TypeError;if(R(n)||(n=N(n)),!O(t))throw new TypeError;R(n)||(n=N(n));var r=V(t,n,!1);return!R(r)&&r.OrdinaryDeleteMetadata(e,t,n)}))}(r,n),void 0===n.Reflect&&(n.Reflect=e)}()}(e||(e={}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{"use strict";n(662);var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var o="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;function i(e){if("string"==typeof e)return e;if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString(),n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var a=0,s=o.Reflect;function c(e){return"function"==typeof e&&e.hasOwnProperty("annotation")&&(e=e.annotation),e}function u(e,t){if(e===Object||e===String||e===Function||e===Number||e===Array)throw new Error("Can not use native "+i(e)+" as constructor");if("function"==typeof e)return e;if(Array.isArray(e)){var n=e,r=n.length-1,o=e[r];if("function"!=typeof o)throw new Error("Last position of Class method array must be Function in key "+t+" was '"+i(o)+"'");if(r!==o.length)throw new Error("Number of annotations ("+r+") does not match number of arguments ("+o.length+") in the function: "+i(o));for(var a=[],u=0,l=n.length-1;u<l;u++){var f=[];a.push(f);var p=n[u];if(Array.isArray(p))for(var d=0;d<p.length;d++)f.push(c(p[d]));else"function"==typeof p?f.push(c(p)):f.push(p)}return s.defineMetadata("parameters",a,o),o}throw new Error("Only Function or Array is supported in Class definition for key '"+t+"' is '"+i(e)+"'")}function l(e){var t=u(e.hasOwnProperty("constructor")?e.constructor:void 0,"constructor"),n=t.prototype;if(e.hasOwnProperty("extends")){if("function"!=typeof e.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+i(e.extends));t.prototype=n=Object.create(e.extends.prototype)}for(var r in e)"extends"!==r&&"prototype"!==r&&e.hasOwnProperty(r)&&(n[r]=u(e[r],r));this&&this.annotations instanceof Array&&s.defineMetadata("annotations",this.annotations,t);var o=t.name;return o&&"constructor"!==o||(t.overriddenName="class"+a++),t}function f(e){return function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.forEach((function(e,r){var o=n[r];if(Array.isArray(e))t[e[0]]=void 0===o?e[1]:o;else for(var i in e)t[i]=o&&o.hasOwnProperty(i)?o[i]:e[i]}))}}function p(e,t,n){var o=f(t);function i(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof i)return o.apply(this,t),this;var a=new((e=i).bind.apply(e,r([void 0],t)));return c.annotation=a,c;function c(e,t,n){for(var r=s.getOwnMetadata("parameters",e)||[];r.length<=n;)r.push(null);return r[n]=r[n]||[],r[n].push(a),s.defineMetadata("parameters",r,e),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+e},i.annotationCls=i,i}var d=p("Inject",[["token",void 0]]),y=p("Optional",[]),h=function(e,t,n,r){var o=f([[]]);function i(e){if(!s||!s.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof i)return o.call(this,e),this;var t=new i(e),n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(t);var r=function(e){var n=s.getOwnMetadata("annotations",e)||[];return n.push(t),s.defineMetadata("annotations",n,e),e};return r.annotations=n,r.Class=l,r}return i.prototype.toString=function(){return"@Injectable"},i.annotationCls=i,i}(),v=p("Self",[]),g=p("SkipSelf",[]);function C(e){return e.__forward_ref__=C,e.toString=function(){return i(this())},e}function b(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===C?e():e}p("Host",[]);var m=new Object,_=m,x=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=m),t===m)throw new Error("No provider for "+i(e)+"!");return t},e}(),P=function(){function e(){}return e.THROW_IF_NOT_FOUND=m,e.NULL=new x,e}(),w="ngOriginalError";function R(e){return e.length>1?" ("+function(e){for(var t=[],n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map((function(e){return i(e.token)})).join(" -> ")+")":""}function k(e,t,n,r){var o=r?function(e,t){var n=" caused by: "+(t instanceof Error?t.message:t),r=Error(n);return r[w]=t,r}(0,r):Error();return o.addKey=O,o.keys=[t],o.injectors=[e],o.constructResolvingMessage=n,o.message=o.constructResolvingMessage(),o[w]=r,o}function O(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage()}function E(e,t){for(var n=[],r=0,o=t.length;r<o;r++){var a=t[r];a&&0!==a.length?n.push(a.map(i).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+i(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+i(e)+"' is decorated with Injectable.")}var S=function(){function e(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!")}return Object.defineProperty(e.prototype,"displayName",{get:function(){return i(this.token)},enumerable:!1,configurable:!0}),e.get=function(e){return N.get(b(e))},Object.defineProperty(e,"numberOfKeys",{get:function(){return N.numberOfKeys},enumerable:!1,configurable:!0}),e}(),N=new(function(){function e(){this._allKeys=new Map}return e.prototype.get=function(e){if(e instanceof S)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new S(e,S.numberOfKeys);return this._allKeys.set(e,t),t},Object.defineProperty(e.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!1,configurable:!0}),e}()),T=Function;function j(e){return"function"==typeof e}var M=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,A=function(){function e(e){this._reflect=e||o.Reflect}return e.prototype.isReflectionEnabled=function(){return!0},e.prototype.factory=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new(e.bind.apply(e,r([void 0],t)))}},e.prototype._zipTypesAndAnnotations=function(e,t){var n;n=new Array(void 0===e?t.length:e.length);for(var r=0;r<n.length;r++)void 0===e?n[r]=[]:e[r]!=Object?n[r]=[e[r]]:n[r]=[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n},e.prototype._ownParameters=function(e,t){if(M.exec(e.toString()))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var n=e.ctorParameters;if(n&&n!==t.ctorParameters){var r="function"==typeof n?n():n,o=r.map((function(e){return e&&e.type})),i=r.map((function(e){return e&&I(e.decorators)}));return this._zipTypesAndAnnotations(o,i)}return null!=this._reflect&&null!=this._reflect.getOwnMetadata&&(i=this._reflect.getOwnMetadata("parameters",e),(o=this._reflect.getOwnMetadata("design:paramtypes",e))||i)?this._zipTypesAndAnnotations(o,i):new Array(e.length).fill(void 0)},e.prototype.parameters=function(e){if(!j(e))return[];var t=B(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]},e.prototype._ownAnnotations=function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?I(e.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",e):null},e.prototype.annotations=function(e){if(!j(e))return[];var t=B(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)},e.prototype._ownPropMetadata=function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var r=e.propDecorators,o={};return Object.keys(r).forEach((function(e){o[e]=I(r[e])})),o}return this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("propMetadata",e):null},e.prototype.propMetadata=function(e){if(!j(e))return{};var t=B(e),n={};if(t!==Object){var r=this.propMetadata(t);Object.keys(r).forEach((function(e){n[e]=r[e]}))}var o=this._ownPropMetadata(e,t);return o&&Object.keys(o).forEach((function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,n[e]),t.push.apply(t,o[e]),n[e]=t})),n},e.prototype.hasLifecycleHook=function(e,t){return e instanceof T&&t in e.prototype},e.prototype.getter=function(e){return new Function("o","return o."+e+";")},e.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")},e.prototype.method=function(e){return new Function("o","args","if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);")},e.prototype.importUri=function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+i(e)},e.prototype.resourceUri=function(e){return"./"+i(e)},e.prototype.resolveIdentifier=function(e,t,n,r){return r},e.prototype.resolveEnum=function(e,t){return e[t]},e}();function I(e){return e?e.map((function(e){var t=e.type.annotationCls,n=e.args?e.args:[];return new(t.bind.apply(t,r([void 0],n)))})):[]}function B(e){if(!e.prototype)return Object;var t=Object.getPrototypeOf(e.prototype);return(t?t.constructor:null)||Object}var D=new(function(e){function n(t){var n=e.call(this)||this;return n.reflectionCapabilities=t,n}return t(n,e),n.prototype.updateCapabilities=function(e){this.reflectionCapabilities=e},n.prototype.factory=function(e){return this.reflectionCapabilities.factory(e)},n.prototype.parameters=function(e){return this.reflectionCapabilities.parameters(e)},n.prototype.annotations=function(e){return this.reflectionCapabilities.annotations(e)},n.prototype.propMetadata=function(e){return this.reflectionCapabilities.propMetadata(e)},n.prototype.hasLifecycleHook=function(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)},n.prototype.getter=function(e){return this.reflectionCapabilities.getter(e)},n.prototype.setter=function(e){return this.reflectionCapabilities.setter(e)},n.prototype.method=function(e){return this.reflectionCapabilities.method(e)},n.prototype.importUri=function(e){return this.reflectionCapabilities.importUri(e)},n.prototype.resourceUri=function(e){return this.reflectionCapabilities.resourceUri(e)},n.prototype.resolveIdentifier=function(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)},n.prototype.resolveEnum=function(e,t){return this.reflectionCapabilities.resolveEnum(e,t)},n}((function(){})))(new A),F=function(e){function n(t){return e.call(this,t)||this}return t(n,e),n.prototype.toString=function(){return"InjectionToken "+this._desc},n}(function(){function e(e){this._desc=e}return e.prototype.toString=function(){return"Token "+this._desc},e}()),L=function(){function e(e,t,n){this.key=e,this.optional=t,this.visibility=n}return e.fromKey=function(t){return new e(t,!1,null)},e}(),G=[],V=function(){function e(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n}return Object.defineProperty(e.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!1,configurable:!0}),e}(),W=function(e,t){this.factory=e,this.dependencies=t};function q(e){var t,n;if(e.useClass){var r=b(e.useClass);t=D.factory(r),n=z(r)}else e.useExisting?(t=function(e){return e},n=[L.fromKey(S.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){var n=t.map((function(e){return[e]}));return t.map((function(t){return Y(e,t,n)}))}return z(e)}(e.useFactory,e.deps)):(t=function(){return e.useValue},n=G);return new W(t,n)}function K(e){return new V(S.get(e.provide),[q(e)],e.multi||!1)}function H(e){var t=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=t.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+o+" "+r);if(r.multiProvider)for(var i=0;i<r.resolvedFactories.length;i++)o.resolvedFactories.push(r.resolvedFactories[i]);else t.set(r.key.id,r)}else{var a;a=r.multiProvider?new V(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,a)}}return t}(U(e,[]).map(K),new Map);return Array.from(t.values())}function U(e,t){return e.forEach((function(e){if(e instanceof T)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);U(e,t)}})),t}function z(e){var t=D.parameters(e);if(!t)return[];if(t.some((function(e){return null==e})))throw E(e,t);return t.map((function(n){return Y(e,n,t)}))}function Y(e,t,n){var r=null,o=!1;if(!Array.isArray(t))return J(t instanceof d?t.token:t,o,null);for(var i=null,a=0;a<t.length;++a){var s=t[a];s instanceof T?r=s:s instanceof d?r=s.token:s instanceof y?o=!0:s instanceof v||s instanceof g?i=s:s instanceof F&&(r=s)}if(null!=(r=b(r)))return J(r,o,i);throw E(e,n)}function J(e,t,n){return new L(S.get(e),t,n)}var $,Q=new Object,X=function(){function e(){}return e.resolve=function(e){return H(e)},e.resolveAndCreate=function(t,n){var r=e.resolve(t);return e.fromResolvedProviders(r,n)},e.fromResolvedProviders=function(e,t){return new Z(e,t)},e}(),Z=function(){function e(e,t){this._constructionCounter=0,this._providers=e,this._parent=t||null;var n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=Q}return e.prototype.get=function(e,t){return void 0===t&&(t=_),this._getByKey(S.get(e),null,t)},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),e.prototype.resolveAndCreateChild=function(e){var t=X.resolve(e);return this.createChildFromResolved(t)},e.prototype.createChildFromResolved=function(t){var n=new e(t);return n._parent=this,n},e.prototype.resolveAndInstantiate=function(e){return this.instantiateResolved(X.resolve([e])[0])},e.prototype.instantiateResolved=function(e){return this._instantiateProvider(e)},e.prototype.getProviderAtIndex=function(e){if(e<0||e>=this._providers.length)throw function(e){return Error("Index "+e+" is out-of-bounds.")}(e);return this._providers[e]},e.prototype._new=function(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw this,k(this,e.key,(function(){return"Cannot instantiate cyclic dependency!"+R(this.keys)}));return this._instantiateProvider(e)},e.prototype._getMaxNumberOfObjects=function(){return this.objs.length},e.prototype._instantiateProvider=function(e){if(e.multiProvider){for(var t=new Array(e.resolvedFactories.length),n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])},e.prototype._instantiate=function(e,t){var n,r,o,a,s,c=this,u=t.factory;try{n=t.dependencies.map((function(e){return c._getByReflectiveDependency(e)}))}catch(t){throw t.addKey&&t.addKey(this,e.key),t}try{r=u.apply(void 0,n)}catch(t){throw o=this,a=t,t.stack,s=e.key,k(o,s,(function(){var e=i(this.keys[0].token);return this[w].message+": Error during instantiation of "+e+"!"+R(this.keys)+"."}),a)}return r},e.prototype._getByReflectiveDependency=function(e){return this._getByKey(e.key,e.visibility,e.optional?null:_)},e.prototype._getByKey=function(e,t,n){return e===ee?this:t instanceof v?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)},e.prototype._getObjByKeyId=function(e){for(var t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===Q&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return Q},e.prototype._throwOrNull=function(e,t){if(t!==_)return t;throw function(e,t){return k(e,t,(function(){return"No provider for "+i(this.keys[0].token)+"!"+R(this.keys)}))}(this,e)},e.prototype._getByKeySelf=function(e,t){var n=this._getObjByKeyId(e.id);return n!==Q?n:this._throwOrNull(e,t)},e.prototype._getByKeyDefault=function(t,n,r){var o;for(o=r instanceof g?this._parent:this;o instanceof e;){var i=o,a=i._getObjByKeyId(t.id);if(a!==Q)return a;o=i._parent}return null!==o?o.get(t.token,n):this._throwOrNull(t,n)},Object.defineProperty(e.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(e,t){for(var n=new Array(e._providers.length),r=0;r<e._providers.length;++r)n[r]=' "'+e.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.displayName},e}(),ee=S.get(P),te=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ne=function(){function e(){this.tickInstance=null,this.tickFunctions=[],this.routingBucket=0,this.assignBaseListeners()}return e.prototype.add=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach((function(e){-1!==t.tickFunctions.findIndex((function(t){return t.id===e.id}))&&console.error("[ClientBase]: A tick function with the id "+e.id+" already exists in the stack! The newly added tick function will not be executed.")})),(e=this.tickFunctions).push.apply(e,n),this.removeTickDuplicates(),this.refreshTicks()},e.prototype.addUnique=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){e.remove(t.id)})),this.add.apply(this,t)},e.prototype.remove=function(e){this.tickFunctions=this.tickFunctions.filter((function(t){return t.id!=e}))},e.prototype.refreshTicks=function(){var e=this;this.tickInstance&&(clearTick(this.tickInstance),this.tickInstance=null),this.tickFunctions.length>0&&(this.tickInstance=setTick((function(){if(!e.tickFunctions.length)return clearTick(e.tickInstance),void(e.tickInstance=null);e.tickFunctions.forEach((function(e){e.function()}))})))},e.prototype.removeTickDuplicates=function(){var e=this;this.tickFunctions=this.tickFunctions.filter((function(t){return e.tickFunctions.findIndex((function(e){return e.id==t.id}))==e.tickFunctions.indexOf(t)}))},e.prototype.assignBaseListeners=function(){var e=this;onNet(GetCurrentResourceName()+":set-routing-bucket",(function(t){e.routingBucket=t}))},e.prototype.setEntityRoutingBucket=function(e){TriggerServerEvent(GetCurrentResourceName()+":set-client-routing-bucket",e),this.routingBucket=e},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([h(),te("design:paramtypes",[])],e)}(),re=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},oe=function(){function e(e){this._ticksService=e,this.chunkRadius=75,this._actionPoints={},this._cachedPlayerPosition=[NaN,NaN],this._cachedPlayerRoundedPosition=[NaN,NaN],this._cachedIsPlayerInAnyVehicle=!1}return Object.defineProperty(e.prototype,"actionPoints",{get:function(){return this._actionPoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedPlayerPosition",{get:function(){return this._cachedPlayerPosition},enumerable:!1,configurable:!0}),e.prototype.create=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){e.createActionPoint(t)}))},e.prototype.createActionPoint=function(e){var t=this.roundToNearest(e.pos[0],this.chunkRadius),n=this.roundToNearest(e.pos[1],this.chunkRadius);this._actionPoints[t]||(this._actionPoints[t]={}),this.actionPoints[t][n]||(this._actionPoints[t][n]=[]),this._actionPoints[t][n].push(e)},e.prototype.remove=function(e){var t,n;(null===(n=null===(t=this._actionPoints[this.roundToNearest(e.pos[0],this.chunkRadius)])||void 0===t?void 0:t[this.roundToNearest(e.pos[1],this.chunkRadius)])||void 0===n?void 0:n.length)&&(this._actionPoints[this.roundToNearest(e.pos[0],this.chunkRadius)][this.roundToNearest(e.pos[1],this.chunkRadius)]=this._actionPoints[this.roundToNearest(e.pos[0],this.chunkRadius)][this.roundToNearest(e.pos[1],this.chunkRadius)].filter((function(t){return t.id!=e.id})))},e.prototype.removeById=function(e){var t=this;Object.keys(this._actionPoints).forEach((function(n){var r=Number(n);Object.keys(t._actionPoints[r]).forEach((function(n){var o=Number(n);t._actionPoints[r][o]=t._actionPoints[r][o].filter((function(t){return t.id!=e}))}))}))},e.prototype.removeAll=function(){this._actionPoints={},this._ticksService.remove(GetCurrentResourceName()+"_actionpoints")},e.prototype.existsAtPosition=function(e,t,n){var r=this.roundToNearest(e,this.chunkRadius),o=this.roundToNearest(t,this.chunkRadius);return!(!this.actionPoints[r]||!this.actionPoints[r][o]||!this.actionPoints[r][o].find((function(r){return r.pos[0]==e&&r.pos[1]==t&&r.pos[2]==n})))},e.prototype.roundToNearest=function(e,t){return Math.round(e/t)*t},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([h(),(t=0,n=d(ne),function(e,r){n(e,r,t)}),re("design:paramtypes",[ne])],e);var t,n}(),ie=function(){return ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ie.apply(this,arguments)},ae=function(){function e(){this._blips=[]}return Object.defineProperty(e.prototype,"blips",{get:function(){return this._blips},enumerable:!1,configurable:!0}),e.prototype.createMultiple=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.map((function(e){return ie(ie({},e),{instance:null})}));(e=this._blips).push.apply(e,r),this.refresh()},e.prototype.create=function(e){var t,n=e.type&&"coords"!==e.type?"range"===e.type?AddBlipForRadius(e.pos[0],e.pos[1],e.pos[2],e.scale||1):AddBlipForEntity(null!==(t=e.entityId)&&void 0!==t?t:PlayerPedId()):AddBlipForCoord(e.pos[0],e.pos[1],e.pos[2]);return e.type&&"range"===e.type||SetBlipScale(n,e.scale||1),SetBlipSprite(n,e.id),SetBlipDisplay(n,4),SetBlipColour(n,e.color),SetBlipAlpha(n,e.alpha||255),SetBlipAsShortRange(n,!e.longRange),BeginTextCommandSetBlipName("STRING"),AddTextComponentString(e.title),EndTextCommandSetBlipName(n),n},e.prototype.clear=function(e){this._blips=this._blips.filter((function(t){return t.instance!==e})),DoesBlipExist(e)&&RemoveBlip(e)},e.prototype.clearAll=function(){this._blips.forEach((function(e){RemoveBlip(e.instance)})),this._blips=[]},e.prototype.refresh=function(){var e=this;this.blips.forEach((function(t){t.instance||(t.instance=e.create(t))}))},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([h()],e)}(),se=function(){function e(){this._checkpoints=new Map}return Object.defineProperty(e.prototype,"checkpoints",{get:function(){return this._checkpoints},enumerable:!1,configurable:!0}),e.prototype.create=function(e,t,n,r,o,i,a,s,c,u,l,f,p){var d=CreateCheckpoint(e,t,n,r,o,i,a,s,c,u,l,f,p);return this._checkpoints.set(d,[t,n,r,o,i,a]),d},e.prototype.clear=function(e){DeleteCheckpoint(e),this._checkpoints.has(e)&&this._checkpoints.delete(e)},e.prototype.clearByPosition=function(e){var t=this,n=Array.from(this._checkpoints.keys()).find((function(n){return Math.floor(t._checkpoints.get(n)[0])===Math.floor(e[0])&&Math.floor(t._checkpoints.get(n)[1])===Math.floor(e[1])&&Math.floor(t._checkpoints.get(n)[2])===Math.floor(e[2])}));n&&this.clear(n)},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([h()],e)}(),ce=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ue=function(e){return!/^\s*$/.test(e)&&(e=(e=(e=e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@")).replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]")).replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(e))},le=function(){return le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},le.apply(this,arguments)},fe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},pe=(function(){function e(e){this._actionPoints=e,this._markers=[]}var t,n;Object.defineProperty(e.prototype,"markers",{get:function(){return this._markers},enumerable:!1,configurable:!0}),e.prototype.create=function(){for(var e,t,n=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=r.map((function(e){return le(le({},e),{instance:null})}));(e=this._markers).push.apply(e,i),(t=this._actionPoints).create.apply(t,r.map((function(e){return{id:GetCurrentResourceName()+"_marker_"+e.pos[0]+"_"+e.pos[1],pos:e.pos,range:e.renderDistance,action:function(){return t=n,r=void 0,i=function(){var t,n,r,o,i,a,s;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(c){switch(c.label){case 0:if(!e.textureDict||HasStreamedTextureDictLoaded(e.textureDict))return[3,3];RequestStreamedTextureDict(e.textureDict,!0),c.label=1;case 1:return HasStreamedTextureDictLoaded(e.textureDict)?[3,3]:[4,ce(100)];case 2:return c.sent(),[3,1];case 3:return DrawMarker(e.marker,e.pos[0],e.pos[1],e.pos[2],0,0,0,(null===(t=e.rotation)||void 0===t?void 0:t[0])||0,(null===(n=e.rotation)||void 0===n?void 0:n[1])||0,(null===(r=e.rotation)||void 0===r?void 0:r[2])||0,e.scale,e.scale,e.scale,e.rgba[0],e.rgba[1],e.rgba[2],e.rgba[3],!1,!0,2,!1,e.textureDict||null,e.textureName||null,!1),e.underlyingCircle&&DrawMarker(e.underlyingCircle.marker,e.pos[0],e.pos[1],e.pos[2]-.9,0,0,0,0,0,0,e.underlyingCircle.scale,e.underlyingCircle.scale,e.underlyingCircle.scale,(null===(o=e.underlyingCircle.rgba)||void 0===o?void 0:o[0])||e.rgba[0],(null===(i=e.underlyingCircle.rgba)||void 0===i?void 0:i[1])||e.rgba[1],(null===(a=e.underlyingCircle.rgba)||void 0===a?void 0:a[2])||e.rgba[2],(null===(s=e.underlyingCircle.rgba)||void 0===s?void 0:s[3])||e.rgba[3],!1,!0,2,!1,null,null,!1),[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function a(e){try{c(i.next(e))}catch(e){n(e)}}function s(e){try{c(i.throw(e))}catch(e){n(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,s)}c((i=i.apply(t,r||[])).next())}));var t,r,o,i}}})))},e.prototype.clearAll=function(){var e=this;this.markers.forEach((function(t){e._actionPoints.removeById(GetCurrentResourceName()+"_marker_"+t.pos[0]+"_"+t.pos[1])})),this._markers=[]},e=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([h(),(t=0,n=d(oe),function(e,r){n(e,r,t)}),fe("design:paramtypes",[oe])],e)}(),function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),de=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ye=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},he=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ve=(function(){function e(){var e=this;this._peds=[],onNet("onResourceStop",(function(t){t===GetCurrentResourceName()&&(e._peds.forEach((function(t){e.remove(t)})),e._peds=[])}))}Object.defineProperty(e.prototype,"peds",{get:function(){return this._peds},enumerable:!1,configurable:!0}),e.prototype.remove=function(e){DoesEntityExist(e)&&DeleteEntity(e),this._peds.indexOf(e)>-1&&this._peds.splice(this._peds.indexOf(e),1)},e.prototype.createInsideVehicleAsync=function(e,t,n,r,o,i){return ye(this,void 0,void 0,(function(){var a,s;return he(this,(function(c){switch(c.label){case 0:a=0,RequestModel(n),c.label=1;case 1:return HasModelLoaded(n)?[3,3]:a>10?[2,0]:[4,ce(100)];case 2:return c.sent(),a++,[3,1];case 3:return(s=CreatePedInsideVehicle(e,t,n,r,o,i))&&this._peds.push(s),[2,s]}}))}))},e.prototype.createAsync=function(e,t,n,r,o,i,a,s){return ye(this,void 0,void 0,(function(){var c,u;return he(this,(function(l){switch(l.label){case 0:c=0,RequestModel(t),l.label=1;case 1:return HasModelLoaded(t)?[3,3]:c>10?[2,0]:[4,ce(100)];case 2:return l.sent(),c++,[3,1];case 3:return(u=CreatePed(e,t,n,r,o,i,a,s))&&this._peds.push(u),[2,u]}}))}))},e.prototype.playAnim=function(e,t,n,r,o,i,a){return void 0===o&&(o=0),void 0===i&&(i=8),void 0===a&&(a=8),ye(this,void 0,void 0,(function(){var s;return he(this,(function(c){switch(c.label){case 0:s=0,RequestAnimDict(t),c.label=1;case 1:return HasAnimDictLoaded(t)?[3,3]:s>10?[2]:[4,ce(100)];case 2:return c.sent(),s++,[3,1];case 3:return HasAnimDictLoaded(t)&&TaskPlayAnim(e,t,n,i,a,r,o,0,!1,!1,!1),[2]}}))}))},e.prototype.setModelAsync=function(e,t){return ye(this,void 0,void 0,(function(){var n;return he(this,(function(r){switch(r.label){case 0:n=0,RequestModel(t),r.label=1;case 1:return HasModelLoaded(t)?[3,3]:n>10?[2,!1]:[4,ce(100)];case 2:return r.sent(),n++,[3,1];case 3:return SetPlayerModel(e,t),SetModelAsNoLongerNeeded(t),[2,!0]}}))}))},e=pe([h(),de("design:paramtypes",[])],e)}(),function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),ge=(function(){function e(){}e.prototype.getPlayerInfo=function(e,t){var n=GetConvar((t||GetPlayerServerId(PlayerId()))+"_PI_"+e,"-1");return ue(n.toString())&&(n=JSON.parse(n.toString(),(function(e,t){return"object"==typeof t||isNaN(t)?t:Number(t)}))),n},e=ve([h()],e)}(),function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),Ce=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},be=(function(){function e(){var e=this;this._vehicles=[],onNet("onResourceStop",(function(t){t===GetCurrentResourceName()&&(e._vehicles.forEach((function(t){e.remove(t)})),e._vehicles=[])}))}Object.defineProperty(e.prototype,"vehicles",{get:function(){return this._vehicles},enumerable:!1,configurable:!0}),e.prototype.createAsync=function(e,t,n,r,o,i,a,s){return void 0===s&&(s=!1),c=this,u=void 0,f=function(){var c,u;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(l){switch(l.label){case 0:c=0,RequestModel(e),l.label=1;case 1:return HasModelLoaded(e)?[3,3]:c>10?[2,0]:[4,ce(100)];case 2:return l.sent(),c++,[3,1];case 3:return(u=CreateVehicle(e,t,n,r,o,i,a))&&(a&&this._vehicles.push(u),s&&TaskWarpPedIntoVehicle(GetPlayerPed(-1),u,-1)),[2,u]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{o(f.next(e))}catch(e){t(e)}}function r(e){try{o(f.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof l?o:new l((function(e){e(o)}))).then(n,r)}o((f=f.apply(c,u||[])).next())}));var c,u,l,f},e.prototype.remove=function(e){DoesEntityExist(e)&&DeleteEntity(e),this._vehicles.indexOf(e)>-1&&this._vehicles.splice(this._vehicles.indexOf(e),1)},e=ge([h(),Ce("design:paramtypes",[])],e)}(),{0:[255,255,255],1:[224,50,50],2:[93,189,113],3:[93,182,229],4:[255,255,255],5:[238,198,78],6:[194,80,80],7:[156,110,175],8:[254,122,195],9:[245,157,121],10:[177,143,131],11:[141,206,167],12:[112,168,174],13:[211,209,231],14:[143,126,152],15:[106,196,191],16:[213,195,152],17:[234,142,80],18:[151,202,233],19:[178,98,135],20:[143,141,121],21:[166,117,94],22:[175,168,168],23:[231,141,154],24:[187,214,91],25:[12,123,86],26:[122,195,254],27:[171,60,230],28:[205,168,12],29:[69,97,171],30:[41,165,184],31:[184,155,123],32:[200,224,254],33:[240,240,150],34:[237,140,161],35:[249,138,138],36:[251,238,165],37:[255,255,255],38:[40,96,160],39:[145,131,112],40:[76,76,76],41:[242,157,157],42:[108,183,214],43:[175,237,174],44:[255,167,95],45:[241,241,241],46:[236,240,41],47:[255,154,24],48:[246,68,165],49:[224,58,58],50:[138,109,227],51:[255,127,70],52:[49,96,65],53:[179,221,243],54:[58,100,121],55:[160,160,160],56:[132,114,50],57:[101,185,231],58:[75,65,117],59:[225,59,59],60:[240,203,88],61:[205,63,152],62:[207,207,207],63:[39,106,159],64:[216,123,27],65:[142,131,147],66:[240,203,87],67:[101,185,231],68:[101,185,231],69:[121,205,121],70:[239,202,87],71:[239,202,87],72:[61,61,61],73:[239,202,87],74:[73,168,231],75:[224,50,50],76:[120,35,35],77:[101,185,231],78:[58,100,121],79:[224,50,50],80:[101,185,231],81:[242,164,12],82:[164,204,170],83:[168,84,242],84:[101,185,231],85:[61,61,61]}),me=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_e=function(e,t){return function(n,r){t(n,r,e)}},xe=(function(){function e(e,t){this._blipsService=e,this._checkpointsService=t,this._waypoints=[]}Object.defineProperty(e.prototype,"waypoints",{get:function(){return this._waypoints},enumerable:!1,configurable:!0}),e.prototype.createWaypoint=function(e,t,n,r,o,i){void 0===i&&(i=3);var a=GetCurrentResourceName().replace("-"," "),s=""+a.slice(0,1).toUpperCase()+a.slice(1),c=this._blipsService.create({id:r||1,color:n||69,title:t||s,pos:e,longRange:!0});return this._checkpointsService.create(2,e[0],e[1],e[2],null,null,null,i,be[null!=n?n:0][0],be[null!=n?n:0][1],be[null!=n?n:0][2],255,0),-1!==o&&(SetBlipRoute(c,!0),o&&SetBlipRouteColour(c,o)),this._waypoints.push(c),c},e.prototype.clearWaypoints=function(){var e=this;this._waypoints.forEach((function(t){e.clearWaypoint(t,!0)})),this._waypoints=[]},e.prototype.clearWaypoint=function(e,t){void 0===t&&(t=!1),this._checkpointsService.clearByPosition(GetBlipCoords(e)),SetBlipRoute(e,!1),RemoveBlip(e),t||this._waypoints.splice(this._waypoints.indexOf(e),1)},e=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([h(),_e(0,d(ae)),_e(1,d(se)),me("design:paramtypes",[ae,se])],e)}(),function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))});function Pe(e){return function(t,n){Reflect.defineMetadata("command_"+n,e,t)}}function we(e){return function(t,n){var r=Re[n]||(null==e?void 0:e.eventName),o=(null==e?void 0:e.direction)||$.CLIENT_TO_SERVER;Reflect.defineMetadata("eventListener_"+n,{eventName:r,direction:o},t)}}!function(e){e[e.SERVER_TO_SERVER=0]="SERVER_TO_SERVER",e[e.SERVER_TO_CLIENT=1]="SERVER_TO_CLIENT",e[e.CLIENT_TO_SERVER=2]="CLIENT_TO_SERVER",e[e.CLIENT_TO_CLIENT=3]="CLIENT_TO_CLIENT"}($||($={}));var Re={onAccountAuthenticate:"authentication:account-success",onPlayerConnect:"playerJoining",onPlayerDeath:"armoury:onPlayerDeath",onPlayerAuthenticate:"authentication:player-authenticated",onPlayerDisconnect:"playerDropped",onResourceStop:"onResourceStop",onContextMenuItemPressed:"armoury-overlay:context-menu-item-pressed",onPlayerEnterVehicle:"armoury:onPlayerEnterVehicle",onPlayerExitVehicle:"armoury:onPlayerExitVehicle",onPlayerClientsidedCacheLoaded:"armoury:player-resource-cache-loaded",onPlayerStartTowVehicle:"armoury:onPlayerStartTowVehicle",onPlayerStopTowVehicle:"armoury:onPlayerStopTowVehicle"},ke=function(){function e(){this.tickInstance=null,this.tickFunctions=[],this.routingBucket=0,this.assignBaseListeners()}return e.prototype.addToTick=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach((function(e){-1!==t.tickFunctions.findIndex((function(t){return t.id===e.id}))&&console.error("[ClientBase]: A tick function with the id "+e.id+" already exists in the stack! The newly added tick function will not be executed.")})),(e=this.tickFunctions).push.apply(e,n),this.removeTickDuplicates(),this.refreshTicks()},e.prototype.addToTickUnique=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){e.removeFromTick(t.id)})),this.addToTick.apply(this,t)},e.prototype.removeFromTick=function(e){this.tickFunctions=this.tickFunctions.filter((function(t){return t.id!=e}))},e.prototype.refreshTicks=function(){var e=this;this.tickInstance&&(clearTick(this.tickInstance),this.tickInstance=null),this.tickFunctions.length>0&&(this.tickInstance=setTick((function(){if(!e.tickFunctions.length)return clearTick(e.tickInstance),void(e.tickInstance=null);e.tickFunctions.forEach((function(e){e.function()}))})))},e.prototype.removeTickDuplicates=function(){var e=this;this.tickFunctions=this.tickFunctions.filter((function(t){return e.tickFunctions.findIndex((function(e){return e.id==t.id}))==e.tickFunctions.indexOf(t)}))},e.prototype.assignBaseListeners=function(){var e=this;onNet(GetCurrentResourceName()+":set-routing-bucket",(function(t){e.routingBucket=t}))},e.prototype.setEntityRoutingBucket=function(e){TriggerServerEvent(GetCurrentResourceName()+":set-client-routing-bucket",e),this.routingBucket=e},e.prototype.getPlayerInfo=function(e,t){var n=GetConvar((t||GetPlayerServerId(PlayerId()))+"_PI_"+e,"-1");return ue(n.toString())&&(n=JSON.parse(n.toString(),(function(e,t){return"object"==typeof t||isNaN(t)?t:Number(t)}))),n},e}(),Oe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=function(){return Ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ee.apply(this,arguments)},Se=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ne=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Te=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},je=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Me=function(e){function t(){var t=e.call(this)||this;return t._blips=[],t._markers=[],t._vehicles=[],t._peds=[],t._waypoints=[],t._checkpoints=new Map,t.assignDefaultEntityListeners(),t}return Oe(t,e),Object.defineProperty(t.prototype,"blips",{get:function(){return this._blips},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"markers",{get:function(){return this._markers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vehicles",{get:function(){return this._vehicles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"peds",{get:function(){return this._peds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"waypoints",{get:function(){return this._waypoints},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkpoints",{get:function(){return this._checkpoints},enumerable:!1,configurable:!0}),t.prototype.createBlips=function(e){var t,n=e.map((function(e){return Ee(Ee({},e),{instance:null})}));(t=this._blips).push.apply(t,n),this.refreshBlips()},t.prototype.createBlip=function(e){var t,n=e.type&&"coords"!==e.type?"range"===e.type?AddBlipForRadius(e.pos[0],e.pos[1],e.pos[2],e.scale||1):AddBlipForEntity(null!==(t=e.entityId)&&void 0!==t?t:PlayerPedId()):AddBlipForCoord(e.pos[0],e.pos[1],e.pos[2]);return e.type&&"range"===e.type||SetBlipScale(n,e.scale||1),SetBlipSprite(n,e.id),SetBlipDisplay(n,4),SetBlipColour(n,e.color),SetBlipAlpha(n,e.alpha||255),SetBlipAsShortRange(n,!e.longRange),BeginTextCommandSetBlipName("STRING"),AddTextComponentString(e.title),EndTextCommandSetBlipName(n),n},t.prototype.clearBlip=function(e){this._blips=this._blips.filter((function(t){return t.instance!==e})),DoesBlipExist(e)&&RemoveBlip(e)},t.prototype.clearBlips=function(){this._blips.forEach((function(e){RemoveBlip(e.instance)})),this._blips=[]},t.prototype.refreshBlips=function(){var e=this;this.blips.forEach((function(t){t.instance||(t.instance=e.createBlip(t))}))},t.prototype.createWaypoint=function(e,t,n,r,o,i){void 0===i&&(i=3);var a=GetCurrentResourceName().replace("-"," "),s=""+a.slice(0,1).toUpperCase()+a.slice(1),c=this.createBlip({id:r||1,color:n||69,title:t||s,pos:e,longRange:!0});return this.createCheckpoint(2,e[0],e[1],e[2],null,null,null,i,be[null!=n?n:0][0],be[null!=n?n:0][1],be[null!=n?n:0][2],255,0),-1!==o&&(SetBlipRoute(c,!0),o&&SetBlipRouteColour(c,o)),this._waypoints.push(c),c},t.prototype.clearWaypoints=function(){var e=this;this._waypoints.forEach((function(t){e.clearWaypoint(t,!0)})),this._waypoints=[]},t.prototype.clearWaypoint=function(e,t){void 0===t&&(t=!1),this.clearCheckpointByPosition(GetBlipCoords(e)),SetBlipRoute(e,!1),RemoveBlip(e),t||this._waypoints.splice(this._waypoints.indexOf(e),1)},t.prototype.createCheckpoint=function(e,t,n,r,o,i,a,s,c,u,l,f,p){var d=CreateCheckpoint(e,t,n,r,o,i,a,s,c,u,l,f,p);return this._checkpoints.set(d,[t,n,r,o,i,a]),d},t.prototype.clearCheckpoint=function(e){DeleteCheckpoint(e),this._checkpoints.has(e)&&this._checkpoints.delete(e)},t.prototype.clearCheckpointByPosition=function(e){var t=this,n=Array.from(this._checkpoints.keys()).find((function(n){return Math.floor(t._checkpoints.get(n)[0])===Math.floor(e[0])&&Math.floor(t._checkpoints.get(n)[1])===Math.floor(e[1])&&Math.floor(t._checkpoints.get(n)[2])===Math.floor(e[2])}));n&&this.clearCheckpoint(n)},t.prototype.createMarkers=function(e){var t,n=e.map((function(e){return Ee(Ee({},e),{instance:null})}));(t=this._markers).push.apply(t,n)},t.prototype.clearMarkers=function(){this._markers=[]},t.prototype.createVehicleAsync=function(e,t,n,r,o,i,a,s){return void 0===s&&(s=!1),Te(this,void 0,void 0,(function(){var c,u;return je(this,(function(l){switch(l.label){case 0:c=0,RequestModel(e),l.label=1;case 1:return HasModelLoaded(e)?[3,3]:c>10?[2,0]:[4,ce(100)];case 2:return l.sent(),c++,[3,1];case 3:return(u=CreateVehicle(e,t,n,r,o,i,a))&&(a&&this._vehicles.push(u),s&&TaskWarpPedIntoVehicle(GetPlayerPed(-1),u,-1)),[2,u]}}))}))},t.prototype.removeVehicle=function(e){DoesEntityExist(e)&&DeleteEntity(e),this._vehicles.indexOf(e)>-1&&this._vehicles.splice(this._vehicles.indexOf(e),1)},t.prototype.removePed=function(e){DoesEntityExist(e)&&DeleteEntity(e),this._peds.indexOf(e)>-1&&this._peds.splice(this._peds.indexOf(e),1)},t.prototype.createPedInsideVehicleAsync=function(e,t,n,r,o,i){return Te(this,void 0,void 0,(function(){var a,s;return je(this,(function(c){switch(c.label){case 0:a=0,RequestModel(n),c.label=1;case 1:return HasModelLoaded(n)?[3,3]:a>10?[2,0]:[4,ce(100)];case 2:return c.sent(),a++,[3,1];case 3:return(s=CreatePedInsideVehicle(e,t,n,r,o,i))&&this._peds.push(s),[2,s]}}))}))},t.prototype.createPedAsync=function(e,t,n,r,o,i,a,s){return Te(this,void 0,void 0,(function(){var c,u;return je(this,(function(l){switch(l.label){case 0:c=0,RequestModel(t),l.label=1;case 1:return HasModelLoaded(t)?[3,3]:c>10?[2,0]:[4,ce(100)];case 2:return l.sent(),c++,[3,1];case 3:return(u=CreatePed(e,t,n,r,o,i,a,s))&&this._peds.push(u),[2,u]}}))}))},t.prototype.playAnimForPed=function(e,t,n,r,o,i,a){return void 0===o&&(o=0),void 0===i&&(i=8),void 0===a&&(a=8),Te(this,void 0,void 0,(function(){var s;return je(this,(function(c){switch(c.label){case 0:s=0,RequestAnimDict(t),c.label=1;case 1:return HasAnimDictLoaded(t)?[3,3]:s>10?[2]:[4,ce(100)];case 2:return c.sent(),s++,[3,1];case 3:return HasAnimDictLoaded(t)&&TaskPlayAnim(e,t,n,i,a,r,o,0,!1,!1,!1),[2]}}))}))},t.prototype.setPedModelAsync=function(e,t){return Te(this,void 0,void 0,(function(){var n;return je(this,(function(r){switch(r.label){case 0:n=0,RequestModel(t),r.label=1;case 1:return HasModelLoaded(t)?[3,3]:n>10?[2,!1]:[4,ce(100)];case 2:return r.sent(),n++,[3,1];case 3:return SetPlayerModel(e,t),SetModelAsNoLongerNeeded(t),[2,!0]}}))}))},t.prototype.assignDefaultEntityListeners=function(){var e=this;onNet("onResourceStop",(function(t){t===GetCurrentResourceName()&&(e._vehicles.forEach((function(t){e.removeVehicle(t)})),e._peds.forEach((function(t){e.removePed(t)})),e._vehicles=[],e._peds=[])}))},t.prototype.onRefreshPlayersInVirtualWorld=function(){var e=this;GetActivePlayers().forEach((function(t){var n=GetPlayerServerId(t);e.getPlayerInfo("virtualWorld")===e.getPlayerInfo("virtualWorld",n)?NetworkConcealPlayer(t,!1,!1):NetworkConcealPlayer(t,!0,!1)}))},Se([we({eventName:GetCurrentResourceName()+":refresh-virtual-world"}),Ne("design:type",Function),Ne("design:paramtypes",[]),Ne("design:returntype",void 0)],t.prototype,"onRefreshPlayersInVirtualWorld",null),Se([function(e){},Ne("design:paramtypes",[])],t)}(ke),Ae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ie=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Be=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chunkRadius=75,t._actionPoints={},t._cachedPlayerPosition=[NaN,NaN],t._cachedPlayerRoundedPosition=[NaN,NaN],t._cachedIsPlayerInAnyVehicle=!1,t}return Ae(t,e),Object.defineProperty(t.prototype,"actionPoints",{get:function(){return this._actionPoints},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedPlayerPosition",{get:function(){return this._cachedPlayerPosition},enumerable:!1,configurable:!0}),t.prototype.createMarkers=function(t){var n=this;e.prototype.createMarkers.call(this,t),this.createActionPoints.apply(this,t.map((function(e){return{id:GetCurrentResourceName()+"_marker_"+e.pos[0]+"_"+e.pos[1],pos:e.pos,range:e.renderDistance,action:function(){return t=n,r=void 0,i=function(){var t,n,r,o,i,a,s;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(c){switch(c.label){case 0:if(!e.textureDict||HasStreamedTextureDictLoaded(e.textureDict))return[3,3];RequestStreamedTextureDict(e.textureDict,!0),c.label=1;case 1:return HasStreamedTextureDictLoaded(e.textureDict)?[3,3]:[4,ce(100)];case 2:return c.sent(),[3,1];case 3:return DrawMarker(e.marker,e.pos[0],e.pos[1],e.pos[2],0,0,0,(null===(t=e.rotation)||void 0===t?void 0:t[0])||0,(null===(n=e.rotation)||void 0===n?void 0:n[1])||0,(null===(r=e.rotation)||void 0===r?void 0:r[2])||0,e.scale,e.scale,e.scale,e.rgba[0],e.rgba[1],e.rgba[2],e.rgba[3],!1,!0,2,!1,e.textureDict||null,e.textureName||null,!1),e.underlyingCircle&&DrawMarker(e.underlyingCircle.marker,e.pos[0],e.pos[1],e.pos[2]-.9,0,0,0,0,0,0,e.underlyingCircle.scale,e.underlyingCircle.scale,e.underlyingCircle.scale,(null===(o=e.underlyingCircle.rgba)||void 0===o?void 0:o[0])||e.rgba[0],(null===(i=e.underlyingCircle.rgba)||void 0===i?void 0:i[1])||e.rgba[1],(null===(a=e.underlyingCircle.rgba)||void 0===a?void 0:a[2])||e.rgba[2],(null===(s=e.underlyingCircle.rgba)||void 0===s?void 0:s[3])||e.rgba[3],!1,!0,2,!1,null,null,!1),[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function a(e){try{c(i.next(e))}catch(e){n(e)}}function s(e){try{c(i.throw(e))}catch(e){n(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,s)}c((i=i.apply(t,r||[])).next())}));var t,r,o,i}}})))},t.prototype.clearMarkers=function(){var t=this;this.markers.forEach((function(e){t.clearActionPoint(GetCurrentResourceName()+"_marker_"+e.pos[0]+"_"+e.pos[1])})),e.prototype.clearMarkers.call(this)},t.prototype.createActionPoints=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){e.createActionPoint(t)}))},t.prototype.createActionPoint=function(e){var t=this.roundToNearest(e.pos[0],this.chunkRadius),n=this.roundToNearest(e.pos[1],this.chunkRadius);this._actionPoints[t]||(this._actionPoints[t]={}),this.actionPoints[t][n]||(this._actionPoints[t][n]=[]),this._actionPoints[t][n].push(e)},t.prototype.clearActionPoint=function(e){var t=this;Object.keys(this._actionPoints).forEach((function(n){var r=Number(n);Object.keys(t._actionPoints[r]).forEach((function(n){var o=Number(n);t._actionPoints[r][o]=t._actionPoints[r][o].filter((function(t){return t.id!=e}))}))}))},t.prototype.clearActionPoints=function(){this._actionPoints={},this.removeFromTick(GetCurrentResourceName()+"_actionpoints")},t.prototype.actionPointExistsAtPosition=function(e,t,n){var r=this.roundToNearest(e,this.chunkRadius),o=this.roundToNearest(t,this.chunkRadius);return!(!this.actionPoints[r]||!this.actionPoints[r][o]||!this.actionPoints[r][o].find((function(r){return r.pos[0]==e&&r.pos[1]==t&&r.pos[2]==n})))},t.prototype.removeActionPoint=function(e){var t,n;(null===(n=null===(t=this._actionPoints[this.roundToNearest(e.pos[0],this.chunkRadius)])||void 0===t?void 0:t[this.roundToNearest(e.pos[1],this.chunkRadius)])||void 0===n?void 0:n.length)&&(this._actionPoints[this.roundToNearest(e.pos[0],this.chunkRadius)][this.roundToNearest(e.pos[1],this.chunkRadius)]=this._actionPoints[this.roundToNearest(e.pos[0],this.chunkRadius)][this.roundToNearest(e.pos[1],this.chunkRadius)].filter((function(t){return t.id!=e.id})))},t.prototype.onThreadTriggered=function(e){var t,n,r=this;if("chunk-checker"===e){this._cachedPlayerPosition=GetEntityCoords(PlayerPedId(),!0);var o=[this.roundToNearest(this._cachedPlayerPosition[0],this.chunkRadius),this.roundToNearest(this._cachedPlayerPosition[1],this.chunkRadius)],i=o[0],a=o[1];if(this._cachedPlayerRoundedPosition[0]==i&&this._cachedPlayerRoundedPosition[1]==a)return;this._cachedPlayerRoundedPosition=[i,a],this._cachedIsPlayerInAnyVehicle=IsPedInAnyVehicle(PlayerPedId(),!1),(null===(n=null===(t=this._actionPoints[this._cachedPlayerRoundedPosition[0]])||void 0===t?void 0:t[this._cachedPlayerRoundedPosition[1]])||void 0===n?void 0:n.length)?this.addToTickUnique({id:GetCurrentResourceName()+"_actionpoints",function:function(){for(var e,t,n,o,i=0;i<(null===(t=null===(e=r._actionPoints[r._cachedPlayerRoundedPosition[0]])||void 0===e?void 0:e[r._cachedPlayerRoundedPosition[1]])||void 0===t?void 0:t.length);i++){var a=null===(n=r._actionPoints[r._cachedPlayerRoundedPosition[0]])||void 0===n?void 0:n[r._cachedPlayerRoundedPosition[1]][i];if(c=[a.pos[0],a.pos[1],a.pos[2],r._cachedPlayerPosition[0],r._cachedPlayerPosition[1],a.pos[2]],u=void 0,l=void 0,f=void 0,u=c[3]-c[0],l=c[4]-c[1],f=c[5]-c[2],Math.hypot(u,l,f)<=(a.range||1)+(r._cachedIsPlayerInAnyVehicle&&!a.onfootOnly?5:0)){var s=(!a.onceIf||a.onceIf())&&(!a.onfootOnly||!IsPedInAnyVehicle(PlayerPedId(),!1))&&(!a.inVehicleOnly||IsPedInAnyVehicle(PlayerPedId(),!1));s&&a.action(),(a.once||a.onceIf)&&s&&(null===(o=r._actionPoints[r._cachedPlayerRoundedPosition[0]])||void 0===o||o[r._cachedPlayerRoundedPosition[1]].splice(i,1),i--)}}var c,u,l,f}}):this.removeFromTick(GetCurrentResourceName()+"_actionpoints")}},t.prototype.debug_ActionPoints=function(){var e,t,n=this,r=0,o=(null===(t=null===(e=this.actionPoints[this.roundToNearest(this._cachedPlayerPosition[0],this.chunkRadius)])||void 0===e?void 0:e[this.roundToNearest(this._cachedPlayerPosition[1],this.chunkRadius)])||void 0===t?void 0:t.length)||0;Object.keys(this.actionPoints).forEach((function(e){var t=Number(e);Object.keys(n.actionPoints[t]).forEach((function(e){var o=Number(e);r+=n.actionPoints[t][o].length}))})),console.log("Total action points: "+r+". Action points in this area: "+o)},t.prototype.roundToNearest=function(e,t){return Math.round(e/t)*t},Ie([we({eventName:"armoury:thread-triggerer",direction:$.CLIENT_TO_CLIENT}),Be("design:type",Function),Be("design:paramtypes",[String]),Be("design:returntype",void 0)],t.prototype,"onThreadTriggered",null),Ie([Pe({suffix:"_"+GetCurrentResourceName()}),Be("design:type",Function),Be("design:paramtypes",[]),Be("design:returntype",void 0)],t.prototype,"debug_ActionPoints",null),Ie([function(e){}],t)}(Me),Fe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),t.prototype.addToFeed=function(e){void 0===e&&(e=8e3);for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t,n){setTimeout((function(){BeginTextCommandThefeedPost("STRING"),AddTextComponentSubstringPlayerName(t),EndTextCommandThefeedPostTicker(!1,!0)}),n*e)}))},t}(De),Ge=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._translationLanguage="en",t}Ge(t,e),Object.defineProperty(t.prototype,"translationLanguage",{get:function(){return this._translationLanguage},enumerable:!1,configurable:!0}),t.prototype.translate=function(e,t){var n=this.translationFile[this._translationLanguage][e];return t&&Object.keys(t).forEach((function(e){n=n.replace("{"+e+"}",t[e])})),n},t.prototype.setTranslationLanguage=function(e){this._translationLanguage=e}}(Le);var Ve=function(){function e(){this.routingBucketCondition=function(e,t){return!0},this.assignServerBaseListeners()}return e.prototype.RegisterAdminCommand=function(e,t,n,r){RegisterCommand(e,(function(e,r,o){Number(exports.authentication.getPlayerInfo(e,"adminLevel"))<t||n(e,r,o)}),r)},e.prototype.assignServerBaseListeners=function(){var e=this;onNet(GetCurrentResourceName()+":set-client-routing-bucket",(function(t,n){e.routingBucketCondition(t,n)&&SetEntityRoutingBucket(t,n)}))},e.prototype.setRoutingBucket=function(e,t){SetEntityRoutingBucket(GetPlayerPed(e.toString()),t),TriggerClientEvent(GetCurrentResourceName()+":set-routing-bucket",e,t)},e}(),We=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ke=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},He=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._virtualWorldsWithPlayers=new Map,t}return We(t,e),Object.defineProperty(t.prototype,"virtualWorldsWithPlayers",{get:function(){return this._virtualWorldsWithPlayers},enumerable:!1,configurable:!0}),t.prototype.onPlayerEnteredScope=function(e){TriggerClientEvent(GetCurrentResourceName()+":refresh-virtual-world",e.for)},t.prototype.setPlayerVirtualWorld=function(e,t){var n=this.getPlayerVirtualWorld(e);isNaN(n)||this._virtualWorldsWithPlayers.set(n,(this._virtualWorldsWithPlayers.has(n)?this._virtualWorldsWithPlayers.get(n):[]).filter((function(t){return t!==e})));var r=He(He([],this._virtualWorldsWithPlayers.has(t)?this._virtualWorldsWithPlayers.get(t):[],!0),[e],!1);this._virtualWorldsWithPlayers.set(t,r),exports.authentication.setPlayerInfo(e,"virtualWorld",t)},t.prototype.getPlayerVirtualWorld=function(e){return Math.max(0,Number(exports.authentication.getPlayerInfo(e,"virtualWorld")))},t.prototype.removeClientsideVehicles=function(){TriggerClientEvent(GetCurrentResourceName()+":ARM_remove-vehicles",-1)},qe([we({eventName:"playerEnteredScope"}),Ke("design:type",Function),Ke("design:paramtypes",[Object]),Ke("design:returntype",void 0)],t.prototype,"onPlayerEnteredScope",null),qe([function(e){}],t)}(Ve),ze=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Je=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._translationLanguage="en",t._clientsidedResourceMap=new Map,t}return ze(t,e),Object.defineProperty(t.prototype,"translationLanguage",{get:function(){return this._translationLanguage},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientsidedResourceMap",{get:function(){return this._clientsidedResourceMap},enumerable:!1,configurable:!0}),t.prototype.getPlayerClientsidedCacheKey=function(e,t){if(this._clientsidedResourceMap.has(e)){var n=this._clientsidedResourceMap.get(e);if(n[t])return n[t]}return null},t.prototype.updatePlayerClientsidedCacheKey=function(e,t,n){var r=this._clientsidedResourceMap.has(e)&&this._clientsidedResourceMap.get(e)||{};r[t]=n,this._clientsidedResourceMap.set(e,r),TriggerClientEvent("armoury-overlay:update-resource-metadata",e,GetCurrentResourceName(),t,n)},t.prototype.onPlayerClientsidedCacheLoaded=function(e){e[GetCurrentResourceName()]&&this._clientsidedResourceMap.set(source,e[GetCurrentResourceName()])},t.prototype.onPlayerDisconnect=function(){this._clientsidedResourceMap.has(source)&&this._clientsidedResourceMap.delete(source)},t.prototype.translate=function(e,t){var n=this.translationFile[this._translationLanguage][e];return t&&Object.keys(t).forEach((function(e){n=n.replace("{"+e+"}",t[e])})),n},t.prototype.setTranslationLanguage=function(e){this._translationLanguage=e},Ye([we(),Je("design:type",Function),Je("design:paramtypes",[Object]),Je("design:returntype",void 0)],t.prototype,"onPlayerClientsidedCacheLoaded",null),Ye([we(),Je("design:type",Function),Je("design:paramtypes",[]),Je("design:returntype",void 0)],t.prototype,"onPlayerDisconnect",null),Ye([function(e){}],t)}(Ue),Qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xe=function(){return Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xe.apply(this,arguments)},Ze=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},et=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},tt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},nt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},rt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};!function(e){function t(t,n){void 0===n&&(n=!1);var r=e.call(this)||this;return r.dbTableName=t,r._entities=[],r._cachedProperties=[],r._playerToEntityBindings=new Map,r.computeTableProperties(),n&&r.loadDBEntities(),r}Qe(t,e),Object.defineProperty(t.prototype,"entities",{get:function(){return this._entities},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedProperties",{get:function(){return this._cachedProperties},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playerToEntityBindings",{get:function(){return this._playerToEntityBindings},enumerable:!1,configurable:!0}),t.prototype.getEntities=function(){return this._entities},t.prototype.createEntity=function(e,t){return tt(this,void 0,void 0,(function(){var n,r,o,i,a;return nt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n=this.getEntityProperties(e),r=this.getEntityPropertiesValues(e,n),t&&(n=rt(["id"],n,!0),r=rt([t.toString()],r,!0)),[4,exports.oxmysql.insert_async("INSERT INTO `"+this.dbTableName+"` ("+n.join(", ")+") VALUES ("+Array(n.length).fill("?").join(", ")+")",r)];case 1:return o=s.sent(),i=Xe(Xe({},e),{id:t||o}),this._entities.push(i),this.syncWithClients(),[2,i];case 2:return a=s.sent(),console.log(a),[2,null];case 3:return[2]}}))}))},t.prototype.removeEntity=function(e){return tt(this,void 0,void 0,(function(){var t,n;return nt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,exports.oxmysql.query_async("DELETE FROM `"+this.dbTableName+"` WHERE id = ?",[e.id])];case 1:return t=r.sent(),this._entities=this._entities.filter((function(t){return t.id!==e.id})),this.syncWithClients(),[2,!!t];case 2:return n=r.sent(),console.log(n),[2,!1];case 3:return[2]}}))}))},t.prototype.saveDBEntityAsync=function(e){return tt(this,void 0,void 0,(function(){var t,n,r,o,i,a;return nt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),(t=this.getEntityByDBId(e))?(n=this.getEntityProperties(t),r=this.getEntityPropertiesValues(t,n),o=" = ?, ",[4,exports.oxmysql.update_async("UPDATE `"+this.dbTableName+"` SET "+n.join(o).concat(o).slice(0,-2)+" WHERE id = ?",rt(rt([],r,!0),[t.id],!1))]):[2,!1];case 1:return(i=s.sent())&&this.syncWithClients(),[2,i>0];case 2:return a=s.sent(),console.log(a),[2,!1];case 3:return[2]}}))}))},t.prototype.getEntityByDBId=function(e){return this._entities.find((function(t){return t.id===e}))},t.prototype.loadDBEntityFor=function(e,t,n){return void 0===t&&(t="id"),tt(this,void 0,void 0,(function(){var r,o=this;return nt(this,(function(i){switch(i.label){case 0:return[4,exports.oxmysql.query_async("SELECT * FROM `"+this.dbTableName+"` WHERE "+t+" = ?",[e])];case 1:return(null==(r=i.sent().map((function(e){return Object.keys(e).forEach((function(t){e[t]=JSON.parse(ue(e[t].toString())?e[t]:'"'+e[t]+'"',(function(e,t){return"object"==typeof t||isNaN(t)?t:Number(t)}))})),e})))?void 0:r.length)?(r.forEach((function(e){o._entities.push(e),n&&o.bindEntityToPlayerByEntityId(e.id,n)})),setTimeout((function(){o.syncWithClients()}),2e3),[2,(null==r?void 0:r.length)>1?r:r[0]]):[2,null]}}))}))},t.prototype.loadDBEntities=function(){return tt(this,void 0,void 0,(function(){var e,t=this;return nt(this,(function(n){switch(n.label){case 0:return[4,exports.oxmysql.query_async("SELECT * FROM `"+this.dbTableName+"`",[])];case 1:return(null==(e=n.sent().map((function(e){return Object.keys(e).forEach((function(t){e[t]=JSON.parse(ue(e[t].toString())?e[t]:'"'+e[t]+'"',(function(e,t){return"object"==typeof t||isNaN(t)?t:Number(t)}))})),e})))?void 0:e.length)&&(this._entities=e,setTimeout((function(){t.syncWithClients()}),2e3)),[2,this._entities]}}))}))},t.prototype.getEntityProperties=function(e){var t=[];for(var n in e)"id"===n||this._cachedProperties.length&&!this._cachedProperties.includes(n)||t.push(n);return t},t.prototype.getEntityPropertiesValues=function(e,t){return t.map((function(t){return Array.isArray(e[t])||"object"==typeof e[t]?JSON.stringify(e[t]):e[t].toString()}))},t.prototype.syncWithClients=function(e){TriggerClientEvent(GetCurrentResourceName()+":db-send-entities",e||-1,this.entities)},t.prototype.bindEntityToPlayer=function(e,t){this.entities.includes(e)&&this.bindEntityToPlayerByEntityId(e.id,t)},t.prototype.bindEntityToPlayerByEntityId=function(e,t){this._entities.some((function(t){return t.id===e}))&&(this._playerToEntityBindings.has(t)?this._playerToEntityBindings.set(t,rt(rt([],this._playerToEntityBindings.get(t),!0),[e],!1)):this._playerToEntityBindings.set(t,[e]))},t.prototype.onBoundEntityDestroyed=function(e,t){},t.prototype.onPlayerAuthenticate=function(e,t){this._entities.length&&this.syncWithClients(e)},t.prototype.onPlayerDisconnect=function(){var e=this;this._playerToEntityBindings.has(source)&&((this._playerToEntityBindings.has(source)?this._playerToEntityBindings.get(source):[]).forEach((function(t){var n=e._entities.find((function(e){return e.id===t}));n&&(e.onBoundEntityDestroyed(n,source),e._entities.splice(e._entities.indexOf(n),1))})),this._playerToEntityBindings.delete(source))},t.prototype.computeTableProperties=function(){return tt(this,void 0,void 0,(function(){var e,t=this;return nt(this,(function(n){switch(n.label){case 0:return[4,exports.oxmysql.query_async("DESCRIBE "+this.dbTableName,[])];case 1:return(e=n.sent())?e.forEach((function(e){t._cachedProperties.push(e.Field)})):console.error("[SQL ERROR:] computeTableProperties for "+GetCurrentResourceName()+" did not work."),[2]}}))}))},Ze([function(e,t){Reflect.defineMetadata("export_"+t,t,e)},et("design:type",Function),et("design:paramtypes",[]),et("design:returntype",Array)],t.prototype,"getEntities",null),Ze([we(),et("design:type",Function),et("design:paramtypes",[Number,Object]),et("design:returntype",void 0)],t.prototype,"onPlayerAuthenticate",null),Ze([we(),et("design:type",Function),et("design:paramtypes",[]),et("design:returntype",void 0)],t.prototype,"onPlayerDisconnect",null),t=Ze([function(e){},et("design:paramtypes",[String,Boolean])],t)}($e);var ot,it,at,st,ct={trucker:{pos:[124.60220336914062,-2682.474609375,10.229248046875]},carrier:{pos:[-439.8214,-2786.469,6.000384]},garbageman:{pos:[-267.5868225097656,197.41978454589844,89.22119140625]}},ut=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ft=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createdVehicles=[],t}return ut(t,e),t.prototype.tp=function(e,t,n,r){t?ct[t]?SetEntityCoords(GetPlayerPed(e.toString()),ct[t].pos[0],ct[t].pos[1],ct[t].pos[2],!0,!1,!1,!1):Number(t)&&Number(n)&&Number(r)?(SetEntityCoords(GetPlayerPed(e.toString()),Number(t),Number(n),Number(r),!0,!1,!1,!1),console.log(e,"".concat(GetCurrentResourceName(),":send-updated-position")),TriggerClientEvent("".concat(GetCurrentResourceName(),":send-updated-position"),e,t,n,r)):console.log("No teleport with name ".concat(t)):console.log("Error! Use /tp <location>.")},t.prototype.veh=function(e,t,n){if(t){var r=GetEntityCoords(GetPlayerPed(e.toString())),o=CreateVehicle(t,r[0],r[1],r[2],0,!0,!0);TaskWarpPedIntoVehicle(GetPlayerPed(e.toString()),o,-1),SetVehicleCustomPrimaryColour(o,0,0,0),SetVehicleCustomSecondaryColour(o,0,0,0),this.createdVehicles.push(o)}else console.log("ERROR! You should use /veh <vehiclename> <color>")},t.prototype.destroyVehicles=function(){this.createdVehicles.forEach((function(e){DoesEntityExist(e)&&DeleteEntity(e)})),this.createdVehicles=[]},t.prototype.goToVeh=function(e,t){if(t){var n=GetEntityCoords(t);SetEntityCoords(GetPlayerPed(e.toString()),n[0],n[1],n[2],!0,!1,!1,!0)}},t.prototype.getVeh=function(e,t){if(t){var n=GetEntityCoords(GetPlayerPed(e.toString()));SetEntityCoords(t,n[0],n[1]+1,n[2]+1,!0,!1,!1,!0)}},t.prototype.aSetRoutingBucket=function(e,t,n){t||n?exports.armoury.isPlayerOnline(t)&&SetEntityRoutingBucket(GetPlayerPed(t.toString()),n):console.log("ERROR! You should use /aSetroutingbucket <player-name> <routingBucket>")},t.prototype.goTo=function(e,t){if(t){if(exports.armoury.isPlayerOnline(t)){var n=GetEntityCoords(GetPlayerPed(t.toString()));SetEntityCoords(GetPlayerPed(e.toString()),n[0]+1,n[1],n[2],!0,!1,!1,!0),SetEntityRoutingBucket(GetPlayerPed(e.toString()),GetEntityRoutingBucket(GetPlayerPed(t.toString()))),console.log("Teleported to ".concat(t,"."))}}else console.log("ERROR! You should use /goto <player-id>")},t.prototype.getHere=function(e,t){if(t){var n=GetEntityCoords(GetPlayerPed(e.toString()));exports.armoury.isPlayerOnline(t)&&(SetEntityCoords(GetPlayerPed(t.toString()),n[0]+1,n[1],n[2],!0,!1,!1,!0),SetEntityRoutingBucket(GetPlayerPed(t.toString()),GetEntityRoutingBucket(GetPlayerPed(e.toString()))),console.log("Teleported ".concat(t," to you.")))}else console.log("ERROR! You should use /gethere <player-id>")},t.prototype.setStat=function(e,t,n,r){return null!=t&&n&&null!=r?exports.armoury.isPlayerOnline(t)?"skills"===n?r?Number(r)?(exports.skills.updatePlayerSkill(t,n,r),void console.log("Skill ".concat(n," updated successfuly for player ").concat(t," "))):void console.log("".concat(r," is not a valid value.")):void console.log("Give a value to said skill, using /setstat <player-name> skills <skill> <value>"):void console.log("No stat with name ".concat(n," found")):void 0:(console.log("ERROR! You should use /setstat <player-id> <stat> <value>"),void console.log("Stats you can set: ".concat(["skills"].join(", "))))},t.prototype.setCash=function(e,t,n){null!=t&&null!=n?exports.armoury.isPlayerOnline(t)&&(Number.isNaN(Number(n))?console.log("".concat(n," is not a valid value")):(exports.authentication.setPlayerInfo(t,"cash",n,!1),console.log("".concat(t,"'s cash was set to ").concat(n,"$.")))):console.log("ERROR! You should use /setcash <player-name> <value>")},t.prototype.giveCash=function(e,t,n){if(null==t||Number.isNaN(Number(n)))console.log("ERROR! You should use /givecash <player-name> <value>");else if(exports.armoury.isPlayerOnline(t)){var r=exports.authentication.getPlayerInfo(t,"cash");exports.authentication.setPlayerInfo(t,"cash",Number(n)+r,!1),console.log("".concat(t," received ").concat(n,"$."))}},t.prototype.giveWeapon=function(e,t,n,r){if(null==t||Number.isNaN(Number(n))||Number.isNaN(Number(r)))console.log("ERROR! You should use /giveweapons <player-id> <weapon-name> <ammo>");else if(exports.armoury.isPlayerOnline(t))throw new Error("Not implemented")},t.prototype.removeWeapons=function(e,t){null!=t?exports.armoury.isPlayerOnline(t)&&(exports.weapons.removePlayerWeapons(t),console.log("Succesfully removed ".concat(t,"'s weapons."))):console.log("ERROR! You should use /removeweapons <player-id>")},t.prototype.aGiveDrugs=function(e,t,n,r){null!=t&&n&&!Number.isNaN(Number(r))?exports.armoury.isPlayerOnline(t)&&(exports.drugs.verifyDrugType(n)?(exports.drugs.givePlayerDrugs(t,n,r),console.log("Succesfully gave ".concat(t," ").concat(r,"g of ").concat(n,"."))):console.log("Invalid drug type (".concat(n,"). Types: cocaine/marijuana"))):console.log("Error! Use /agivedrugs <target> <drug-type> <amount>")},t.prototype.aRemoveDrugs=function(e,t,n,r){null!=t&&n&&!Number.isNaN(Number(r))?exports.armoury.isPlayerOnline(t)&&(exports.drugs.verifyDrugType(n)?exports.drugs.removePlayerDrugs(t,n,r):console.log("Invalid drug type (".concat(n,"). Types: cocaine/marijuana"))):console.log("Error! Use /aremovedrugs <target> <drug-type> <amount?>")},t.prototype.stats=function(e){console.log("Routing bucket:",GetEntityRoutingBucket(GetPlayerPed(e.toString())))},t.prototype.onAdminMenuOpen=function(e){exports["armoury-overlay"].showContextMenu(source,e)},lt([Pe({adminLevelRequired:1}),ft("design:type",Function),ft("design:paramtypes",[Number,Object,Number,Number]),ft("design:returntype",void 0)],t.prototype,"tp",null),lt([Pe({adminLevelRequired:3}),ft("design:type",Function),ft("design:paramtypes",[Number,String,Number]),ft("design:returntype",void 0)],t.prototype,"veh",null),lt([Pe({adminLevelRequired:3}),ft("design:type",Function),ft("design:paramtypes",[]),ft("design:returntype",void 0)],t.prototype,"destroyVehicles",null),lt([Pe({adminLevelRequired:3}),ft("design:type",Function),ft("design:paramtypes",[Number,Number]),ft("design:returntype",void 0)],t.prototype,"goToVeh",null),lt([Pe({adminLevelRequired:3}),ft("design:type",Function),ft("design:paramtypes",[Number,Number]),ft("design:returntype",void 0)],t.prototype,"getVeh",null),lt([Pe({adminLevelRequired:1}),ft("design:type",Function),ft("design:paramtypes",[Number,Number,Number]),ft("design:returntype",void 0)],t.prototype,"aSetRoutingBucket",null),lt([Pe({adminLevelRequired:1}),ft("design:type",Function),ft("design:paramtypes",[Number,Number]),ft("design:returntype",void 0)],t.prototype,"goTo",null),lt([Pe({adminLevelRequired:2}),ft("design:type",Function),ft("design:paramtypes",[Number,Number]),ft("design:returntype",void 0)],t.prototype,"getHere",null),lt([Pe({adminLevelRequired:5}),ft("design:type",Function),ft("design:paramtypes",[Number,Number,String,Object]),ft("design:returntype",void 0)],t.prototype,"setStat",null),lt([Pe({adminLevelRequired:5}),ft("design:type",Function),ft("design:paramtypes",[Number,Number,Number]),ft("design:returntype",void 0)],t.prototype,"setCash",null),lt([Pe({adminLevelRequired:5}),ft("design:type",Function),ft("design:paramtypes",[Number,Number,Number]),ft("design:returntype",void 0)],t.prototype,"giveCash",null),lt([Pe({adminLevelRequired:4}),ft("design:type",Function),ft("design:paramtypes",[Number,Number,Number,Number]),ft("design:returntype",void 0)],t.prototype,"giveWeapon",null),lt([Pe({adminLevelRequired:3}),ft("design:type",Function),ft("design:paramtypes",[Number,Number]),ft("design:returntype",void 0)],t.prototype,"removeWeapons",null),lt([Pe({adminLevelRequired:5}),ft("design:type",Function),ft("design:paramtypes",[Number,Number,String,Number]),ft("design:returntype",void 0)],t.prototype,"aGiveDrugs",null),lt([Pe({adminLevelRequired:5}),ft("design:type",Function),ft("design:paramtypes",[Number,Number,String,Number]),ft("design:returntype",void 0)],t.prototype,"aRemoveDrugs",null),lt([Pe(),ft("design:type",Function),ft("design:paramtypes",[Number]),ft("design:returntype",void 0)],t.prototype,"stats",null),lt([we({eventName:"".concat(GetCurrentResourceName(),":open-admin-menu")}),ft("design:type",Function),ft("design:paramtypes",[Object]),ft("design:returntype",void 0)],t.prototype,"onAdminMenuOpen",null),t}($e),st=X.resolveAndCreate([ot]).get(ot),it=st,at=ot.prototype,Reflect.getOwnMetadataKeys(at).filter((function(e){return e.startsWith("command_")})).forEach((function(e){var t=Reflect.getOwnMetadata(e,at),n=e.split("_").slice(1).join("_"),r=(Reflect.getOwnMetadata("keybinding_"+n,at)?"+":"")+n.toLowerCase()+((null==t?void 0:t.suffix)||"");IsDuplicityVersion()?RegisterCommand(r,(function(e,r,o){(null==t?void 0:t.adminLevelRequired)&&Number(exports.authentication.getPlayerInfo(e,"adminLevel"))<(null==t?void 0:t.adminLevelRequired)||it[n].apply(it,xe([e],r,!0))}),!1):RegisterCommand(r,(function(e,t,r){it[n].apply(it,t)}),!1)})),function(e,t){Reflect.getOwnMetadataKeys(t).filter((function(e){return e.startsWith("eventListener_")})).forEach((function(n){var r=Reflect.getOwnMetadata(n,t),o=r.eventName,i=r.direction,a=n.split("_").slice(1).join("_");i===$.CLIENT_TO_CLIENT?on(o,e[a].bind(e)):onNet(o,e[a].bind(e))}))}(st,ot.prototype),function(e,t){Reflect.getOwnMetadataKeys(t).filter((function(e){return e.startsWith("export_")})).forEach((function(t){var n=t.split("_").slice(1).join("_");exports(n,e[n].bind(e))}))}(st,ot.prototype),function(e,t){Reflect.getOwnMetadataKeys(t).filter((function(e){return e.startsWith("keybinding_")})).forEach((function(e){var n=e.split("_").slice(1).join("_"),r=Reflect.getOwnMetadata(e,t),o=r.command||n;o?RegisterKeyMapping("+"+o.toLowerCase(),r.description,r.defaultMapper,r.key):console.error("Could not find any relevant command for key binding "+n)}))}(0,ot.prototype)})()})();