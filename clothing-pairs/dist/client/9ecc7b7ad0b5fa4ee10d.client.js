(()=>{"use strict";var e={187:e=>{var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,o,s,l;if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):f(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var l=c.length,u=f(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e=r(187);const t={onAccountAuthenticate:"authentication:account-success",onPlayerDeath:"armoury:onPlayerDeath",onPlayerAuthenticate:"authentication:player-authenticated",onPlayerDisconnect:"playerDropped",onResourceStop:"onResourceStop",onContextMenuItemPressed:"armoury-overlay:context-menu-item-pressed",onPlayerEnterVehicle:"armoury:onPlayerEnterVehicle",onPlayerExitVehicle:"armoury:onPlayerExitVehicle",onPlayerClientsidedCacheLoaded:"armoury:player-resource-cache-loaded"};var n;!function(e){e[e.SERVER_TO_SERVER=0]="SERVER_TO_SERVER",e[e.SERVER_TO_CLIENT=1]="SERVER_TO_CLIENT",e[e.CLIENT_TO_SERVER=2]="CLIENT_TO_SERVER",e[e.CLIENT_TO_CLIENT=3]="CLIENT_TO_CLIENT"}(n||(n={}));const i=new Map,o=new Map,s=new Map;function a(){return function(e){return class extends e{constructor(...t){super(...t),i.has(e)&&i.get(e).forEach((([e,t,r])=>{r===n.CLIENT_TO_CLIENT?on(t,super[e].bind(this)):onNet(t,super[e].bind(this))})),o.has(e)&&o.get(e).forEach((e=>{exports(e,super[e].bind(this))})),s.has(e)&&s.get(e).forEach((([e,t])=>{IsDuplicityVersion()?RegisterCommand(e.toLowerCase(),((n,i,o)=>{Number(r.g.exports.authentication.getPlayerInfo(n,"adminLevel"))<t||super[e].call(this,n,i,o)}),!1):RegisterCommand(e.toLowerCase(),((t,r,n)=>{super[e].call(this,r,n)}),!1)}))}}}}function c(e){return function(r,o,s){const a=t[o]||(null==e?void 0:e.eventName),c=(null==e?void 0:e.direction)||n.CLIENT_TO_SERVER;(null==a?void 0:a.length)?(i.has(r.constructor)||i.set(r.constructor,[]),i.get(r.constructor).some((([e,t,r])=>e===o))||i.get(r.constructor).push([o,a,c])):console.error(`${o} is not recognized as a default event, thus this listener won't work. Please use the eventName property inside the data parameter.`)}}const l={0:[255,255,255],1:[224,50,50],2:[93,189,113],3:[93,182,229],4:[255,255,255],5:[238,198,78],6:[194,80,80],7:[156,110,175],8:[254,122,195],9:[245,157,121],10:[177,143,131],11:[141,206,167],12:[112,168,174],13:[211,209,231],14:[143,126,152],15:[106,196,191],16:[213,195,152],17:[234,142,80],18:[151,202,233],19:[178,98,135],20:[143,141,121],21:[166,117,94],22:[175,168,168],23:[231,141,154],24:[187,214,91],25:[12,123,86],26:[122,195,254],27:[171,60,230],28:[205,168,12],29:[69,97,171],30:[41,165,184],31:[184,155,123],32:[200,224,254],33:[240,240,150],34:[237,140,161],35:[249,138,138],36:[251,238,165],37:[255,255,255],38:[40,96,160],39:[145,131,112],40:[76,76,76],41:[242,157,157],42:[108,183,214],43:[175,237,174],44:[255,167,95],45:[241,241,241],46:[236,240,41],47:[255,154,24],48:[246,68,165],49:[224,58,58],50:[138,109,227],51:[255,127,70],52:[49,96,65],53:[179,221,243],54:[58,100,121],55:[160,160,160],56:[132,114,50],57:[101,185,231],58:[75,65,117],59:[225,59,59],60:[240,203,88],61:[205,63,152],62:[207,207,207],63:[39,106,159],64:[216,123,27],65:[142,131,147],66:[240,203,87],67:[101,185,231],68:[101,185,231],69:[121,205,121],70:[239,202,87],71:[239,202,87],72:[61,61,61],73:[239,202,87],74:[73,168,231],75:[224,50,50],76:[120,35,35],77:[101,185,231],78:[58,100,121],79:[224,50,50],80:[101,185,231],81:[242,164,12],82:[164,204,170],83:[168,84,242],84:[101,185,231],85:[61,61,61]},u=e=>new Promise((t=>setTimeout(t,e))),d=(e,t,r,n,i,o,s)=>e>=n-s&&e<=n+s&&t>=i-s&&t<=i+s&&r>=o-s&&r<=o+s;var h=function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},p=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let f=class extends class{constructor(){this.tickInstance=null,this.tickFunctions=[],this.routingBucket=0,this.assignBaseListeners()}addToTick(...e){e.forEach((e=>{-1!==this.tickFunctions.findIndex((t=>t.id===e.id))&&console.error(`[ClientBase]: A tick function with the id ${e.id} already exists in the stack! The newly added tick function will not be executed.`)})),this.tickFunctions.push(...e),this.removeTickDuplicates(),this.refreshTicks()}addToTickUnique(...e){e.forEach((e=>{this.removeFromTick(e.id)})),this.addToTick(...e)}removeFromTick(e){this.tickFunctions=this.tickFunctions.filter((t=>t.id!=e))}refreshTicks(){this.tickInstance&&(clearTick(this.tickInstance),this.tickInstance=null),this.tickFunctions.length>0&&(this.tickInstance=setTick((()=>{return e=this,t=void 0,n=function*(){if(!this.tickFunctions.length)return clearTick(this.tickInstance),void(this.tickInstance=null);this.tickFunctions.forEach((e=>{e.function()}))},new((r=void 0)||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n})))}removeTickDuplicates(){this.tickFunctions=this.tickFunctions.filter((e=>this.tickFunctions.findIndex((t=>t.id==e.id))==this.tickFunctions.indexOf(e)))}assignBaseListeners(){onNet(`${GetCurrentResourceName()}:set-routing-bucket`,(e=>{this.routingBucket=e}))}setEntityRoutingBucket(e){TriggerServerEvent(`${GetCurrentResourceName()}:set-client-routing-bucket`,e),this.routingBucket=e}getPlayerInfo(e,t){let n=GetConvar(`${t||r.g.GetPlayerServerId(r.g.PlayerId())}_PI_${e}`,"-1");var i;return i=n.toString(),!/^\s*$/.test(i)&&(i=(i=(i=i.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@")).replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]")).replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(i))&&(n=JSON.parse(n.toString(),(function(e,t){return"object"==typeof t||isNaN(t)?t:Number(t)}))),n}}{constructor(){super(),this._blips=[],this._markers=[],this._vehicles=[],this._peds=[],this._waypoints=[],this._checkpoints=new Map,this.assignDefaultEntityListeners()}get blips(){return this._blips}get markers(){return this._markers}get vehicles(){return this._vehicles}get peds(){return this._peds}get waypoints(){return this._waypoints}get checkpoints(){return this._checkpoints}createBlips(e){const t=e.map((e=>Object.assign(Object.assign({},e),{instance:null})));this._blips.push(...t),this.refreshBlips()}createBlip(e){const t=AddBlipForCoord(e.pos[0],e.pos[1],e.pos[2]);return SetBlipSprite(t,e.id),SetBlipDisplay(t,4),SetBlipScale(t,1),SetBlipColour(t,e.color),SetBlipAsShortRange(t,!e.longRange),BeginTextCommandSetBlipName("STRING"),AddTextComponentString(e.title),EndTextCommandSetBlipName(t),t}clearBlips(){this._blips.forEach((e=>{RemoveBlip(e.instance)})),this._blips=[]}refreshBlips(){this.blips.forEach((e=>{e.instance||(e.instance=this.createBlip(e))}))}createWaypoint(e,t,r,n,i){const o=GetCurrentResourceName().replace("-"," "),s=`${o.slice(0,1).toUpperCase()}${o.slice(1)}`,a=this.createBlip({id:n||1,color:r||69,title:t||s,pos:e,longRange:!0});return this.createCheckpoint(2,e[0],e[1],e[2],null,null,null,3,l[r][0],l[r][1],l[r][2],255,0),SetBlipRoute(a,!0),i&&SetBlipRouteColour(a,i),this._waypoints.push(a),a}clearWaypoints(){this._waypoints.forEach((e=>{this.clearWaypoint(e,!0)})),this._waypoints=[]}clearWaypoint(e,t=!1){this.clearCheckpointByPosition(GetBlipCoords(e)),SetBlipRoute(e,!1),RemoveBlip(e),t||this._waypoints.splice(this._waypoints.indexOf(e),1)}createCheckpoint(e,t,r,n,i,o,s,a,c,l,u,d,h){const p=CreateCheckpoint(e,t,r,n,i,o,s,a,c,l,u,d,h);return this._checkpoints.set(p,[t,r,n,i,o,s]),p}clearCheckpoint(e){DeleteCheckpoint(e),this._checkpoints.has(e)&&this._checkpoints.delete(e)}clearCheckpointByPosition(e){const t=Array.from(this._checkpoints.keys()).find((t=>Math.floor(this._checkpoints.get(t)[0])===Math.floor(e[0])&&Math.floor(this._checkpoints.get(t)[1])===Math.floor(e[1])&&Math.floor(this._checkpoints.get(t)[2])===Math.floor(e[2])));t&&this.clearCheckpoint(t)}createMarkers(e){const t=e.map((e=>Object.assign(Object.assign({},e),{instance:null})));this._markers.push(...t),this.refreshMarkers()}clearMarkers(){this._markers=[],this.removeFromTick(`${GetCurrentResourceName()}_markers`)}refreshMarkers(){this.addToTickUnique({id:`${GetCurrentResourceName()}_markers`,function:()=>p(this,void 0,void 0,(function*(){const e=GetEntityCoords(GetPlayerPed(-1),!0);this._markers.forEach((t=>p(this,void 0,void 0,(function*(){var r,n,i;if(d(e[0],e[1],e[2],t.pos[0],t.pos[1],t.pos[2],t.renderDistance)){if(t.textureDict&&!HasStreamedTextureDictLoaded(t.textureDict))for(RequestStreamedTextureDict(t.textureDict,!0);!HasStreamedTextureDictLoaded(t.textureDict);)yield u(100);DrawMarker(t.marker,t.pos[0],t.pos[1],t.pos[2],0,0,0,(null===(r=t.rotation)||void 0===r?void 0:r[0])||0,(null===(n=t.rotation)||void 0===n?void 0:n[1])||0,(null===(i=t.rotation)||void 0===i?void 0:i[2])||0,t.scale,t.scale,t.scale,t.rgba[0],t.rgba[1],t.rgba[2],t.rgba[3],!1,!0,2,!1,t.textureDict||null,t.textureName||null,!1),t.underlyingCircle&&DrawMarker(t.underlyingCircle.marker,t.pos[0],t.pos[1],t.pos[2]-.9,0,0,0,0,0,0,t.underlyingCircle.scale,t.underlyingCircle.scale,t.underlyingCircle.scale,t.underlyingCircle.rgba[0]||t.rgba[0],t.underlyingCircle.rgba[1]||t.rgba[1],t.underlyingCircle.rgba[2]||t.rgba[2],t.underlyingCircle.rgba[3]||t.rgba[3],!1,!0,2,!1,null,null,!1)}}))))}))})}createVehicleAsync(e,t,r,n,i,o,s,a=!1){return p(this,void 0,void 0,(function*(){let c=0;for(RequestModel(e);!HasModelLoaded(e);){if(c>10)return 0;yield u(100),c++}const l=CreateVehicle(e,t,r,n,i,o,s);return l&&(s&&this._vehicles.push(l),a&&TaskWarpPedIntoVehicle(GetPlayerPed(-1),l,-1)),l}))}removeVehicle(e){DoesEntityExist(e)&&DeleteEntity(e),this._vehicles.indexOf(e)>-1&&this._vehicles.splice(this._vehicles.indexOf(e),1)}removePed(e){DoesEntityExist(e)&&DeleteEntity(e),this._peds.indexOf(e)>-1&&this._peds.splice(this._peds.indexOf(e),1)}createPedInsideVehicleAsync(e,t,r,n,i,o){return p(this,void 0,void 0,(function*(){let s=0;for(RequestModel(r);!HasModelLoaded(r);){if(s>10)return 0;yield u(100),s++}const a=CreatePedInsideVehicle(e,t,r,n,i,o);return a&&this._peds.push(a),a}))}createPedAsync(e,t,r,n,i,o,s,a){return p(this,void 0,void 0,(function*(){let c=0;for(RequestModel(t);!HasModelLoaded(t);){if(c>10)return 0;yield u(100),c++}const l=CreatePed(e,t,r,n,i,o,s,a);return l&&this._peds.push(l),l}))}playAnimForPed(e,t,r,n,i=0,o=8,s=8){return p(this,void 0,void 0,(function*(){let a=0;for(RequestAnimDict(t);!HasAnimDictLoaded(t);){if(a>10)return;yield u(100),a++}HasAnimDictLoaded(t)&&TaskPlayAnim(e,t,r,o,s,n,i,0,!1,!1,!1)}))}setPedModelAsync(e,t){return p(this,void 0,void 0,(function*(){let r=0;for(RequestModel(t);!HasModelLoaded(t);){if(r>10)return!1;yield u(100),r++}SetPlayerModel(e,t),SetModelAsNoLongerNeeded(t)}))}assignDefaultEntityListeners(){onNet("onResourceStop",(e=>{e===GetCurrentResourceName()&&(this._vehicles.forEach((e=>{this.removeVehicle(e)})),this._peds.forEach((e=>{this.removePed(e)})),this._vehicles=[],this._peds=[])}))}onRefreshPlayersInVirtualWorld(){GetActivePlayers().forEach((e=>{const t=GetPlayerServerId(e);this.getPlayerInfo("virtualWorld")===this.getPlayerInfo("virtualWorld",t)?NetworkConcealPlayer(e,!1,!1):NetworkConcealPlayer(e,!0,!1)}))}};h([c({eventName:`${GetCurrentResourceName()}:refresh-virtual-world`})],f.prototype,"onRefreshPlayersInVirtualWorld",null),f=h([a()],f);class y extends f{constructor(){super(...arguments),this._actionPoints=[]}get actionPoints(){return this._actionPoints}createActionPoints(...e){this._actionPoints.push(...e),this.refreshActionPoints()}clearActionPoints(){this._actionPoints=[],this.removeFromTick(`${GetCurrentResourceName()}_actionpoints`)}removeActionPoint(e){this._actionPoints=this._actionPoints.filter((t=>!(e.pos[0]===t.pos[0]&&e.pos[1]===t.pos[1]&&e.pos[2]===t.pos[2]))),this._actionPoints.length||this.clearActionPoints()}refreshActionPoints(){this.addToTickUnique({id:`${GetCurrentResourceName()}_actionpoints`,function:()=>{const e=GetEntityCoords(GetPlayerPed(-1),!0);let t=[];this._actionPoints.forEach((r=>{d(e[0],e[1],e[2],r.pos[0],r.pos[1],r.pos[2],1*(IsPedInAnyVehicle(GetPlayerPed(-1),!1)?4:1))&&(r.action(),r.once&&t.push(r))})),t.length>0&&(t.forEach((e=>{this._actionPoints.splice(this._actionPoints.indexOf(e),1)})),t=[])}})}}class v extends y{constructor(){super(...arguments),this.timeBetweenFeeds=8e3}addToFeed(...e){e.forEach(((e,t)=>{setTimeout((()=>{BeginTextCommandThefeedPost("STRING"),AddTextComponentSubstringPlayerName(e),EndTextCommandThefeedPostTicker(!1,!0)}),t*this.timeBetweenFeeds)}))}}class m extends v{}class g extends m{constructor(){super(),this.uiDisplay=!1,this.uiDisplayCooldownTimestamp=0,this.onIncomingUIMessageEvent=new e,this.addDefaultListeners()}isUIShowing(){return this.uiDisplay}isUIOnCooldown(){return Date.now()<this.uiDisplayCooldownTimestamp}showUI(){this.isUIShowing()||(EnterCursorMode(),SetNuiFocus(!0,!0),SetNuiFocusKeepInput(!1)),this.uiDisplay=!0,this.addToTickUnique({id:`${GetCurrentResourceName()}_UI`,function:()=>{DisableControlAction(0,1,this.uiDisplay),DisableControlAction(0,2,this.uiDisplay),DisableControlAction(0,142,this.uiDisplay),DisableControlAction(0,18,this.uiDisplay),DisableControlAction(0,322,this.uiDisplay),DisableControlAction(0,106,this.uiDisplay),this.uiDisplay||(this.removeFromTick(`${GetCurrentResourceName()}_UI`),SetNuiFocus(!1,!1))}})}hideUI(){this.uiDisplayCooldownTimestamp=Date.now()+3e3,LeaveCursorMode(),this.uiDisplay=!1,SendNuiMessage(JSON.stringify({type:"dismiss"}))}addUIListener(e){RegisterNuiCallbackType(e),on(`__cfx_nui:${e}`,((t,r)=>{this.onIncomingUIMessageEvent.emit(e,t),r("ok")})),this.onIncomingUIMessageEvent.on(e,(t=>{this.onIncomingUIMessage.call(this,e,t)}))}onIncomingUIMessage(e,t){}onForceShowUI(e){this.showUI()}onForceHideUI(){this.hideUI()}addDefaultListeners(){RegisterNuiCallbackType("dismiss"),on("__cfx_nui:dismiss",((e,t)=>{this.onForceHideUI(),TriggerServerEvent(`${GetCurrentResourceName()}:on-force-hidden`),emit(`${GetCurrentResourceName()}:on-force-hidden`),t("ok")})),onNet(`${GetCurrentResourceName()}:force-showui`,(e=>{this.onForceShowUI(e)})),onNet(`${GetCurrentResourceName()}:force-hideui`,(()=>{this.onForceHideUI()}))}}var P=function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};let I=class extends g{constructor(){super(),this.currentCamera=NaN,this.createdPeds=[],this.addUIListener("page-selected"),this.addUIListener("decision-made")}onIncomingUIMessage(e,t){if(super.onIncomingUIMessage(e,t),"page-selected"===e){const e=t;TriggerServerEvent(`${GetCurrentResourceName()}:init-pairs`,e.page)}else if("decision-made"===e){const e=t;TriggerServerEvent(`${GetCurrentResourceName()}:decision-made`,e.page,e.approved)}}onForceShowUI(e){super.onForceShowUI(e),SendNuiMessage(JSON.stringify({type:"update",resource:GetCurrentResourceName(),clothesCombinations:JSON.stringify(e),page:"reset"})),this.initialize()}onForceHideUI(){super.onForceHideUI(),isNaN(this.currentCamera)||(SetCamActive(this.currentCamera,!1),RenderScriptCams(!1,!1,0,!0,!0),DestroyCam(this.currentCamera,!0),this.currentCamera=NaN,this.createdPeds.forEach((e=>{DeleteEntity(e)})),this.createdPeds=[]),SetPedComponentVariation(PlayerPedId(),0,0,0,2),SetPedComponentVariation(PlayerPedId(),2,1,4,0),SetPedComponentVariation(PlayerPedId(),4,4,2,0),SetPedComponentVariation(PlayerPedId(),6,1,0,2),SetPedComponentVariation(PlayerPedId(),11,0,8,0)}getDrawableIdLimitFor([e]){console.log(GetNumberOfPedDrawableVariations(PlayerPedId(),Number(e)))}onShouldUpdateForPedsAsWell(e){console.log("recevied components for peds",e),this.createdPeds.forEach((t=>{e.forEach(((e,r)=>{SetPedComponentVariation(t,r,-1===e?0:e,-1===e?500:0,0)}))}))}initialize(){return e=this,t=void 0,n=function*(){this.createdPeds=[yield this.createPedAsync(0,GetHashKey("mp_m_freemode_01"),10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-1124.903076171875,10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-3206.748046875,14.29257583618164,147.5832977294922,!0,!0),yield this.createPedAsync(0,GetHashKey("mp_m_freemode_01"),10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-1124.1004638671875,10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-3205.63232421875,14.29389858245849,56.4035530090332,!0,!0),yield this.createPedAsync(0,GetHashKey("mp_m_freemode_01"),10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-1123.1712646484375,10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-3204.157470703125,14.29562187194824,321.0484619140625,!0,!0)],SetEntityCoords(PlayerPedId(),10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-1123.742431640625,10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-3204.879150390625,14.294771194458,!0,!1,!1,!1),SetEntityHeading(PlayerPedId(),238.3940887451172),this.currentCamera=CreateCam("DEFAULT_SCRIPTED_CAMERA",!0),SetCamCoord(this.currentCamera,10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-1120.700927734375,10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-3206.77587890625,14.29315280914306),PointCamAtCoord(this.currentCamera,10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-1123.742431640625,10*GetPlayerServerId(PlayerId())*Math.pow(-1,GetPlayerServerId(PlayerId()))-3204.879150390625,14.294771194458),SetCamActive(this.currentCamera,!0),RenderScriptCams(!0,!1,0,!0,!0)},new((r=void 0)||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n}};P([function(e=0){return function(t,r,n){s.has(t.constructor)||s.set(t.constructor,[]),s.get(t.constructor).some((([e,t])=>e===r))||s.get(t.constructor).push([r,e])}}()],I.prototype,"getDrawableIdLimitFor",null),P([c({eventName:`${GetCurrentResourceName()}:update-for-peds`})],I.prototype,"onShouldUpdateForPedsAsWell",null),I=P([a()],I),new I})()})();