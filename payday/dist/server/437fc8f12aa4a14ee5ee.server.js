(()=>{"use strict";const e=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");new class extends class extends class extends class{constructor(){this.routingBucketCondition=(e,t)=>!0,this.assignServerBaseListeners()}RegisterAdminCommand(e,t,n,a){RegisterCommand(e,((e,a,i)=>{Number(global.exports.authentication.getPlayerInfo(e,"adminLevel"))<t||n(e,a,i)}),a)}assignServerBaseListeners(){onNet(`${GetCurrentResourceName()}:set-client-routing-bucket`,((e,t)=>{this.routingBucketCondition(e,t)&&SetEntityRoutingBucket(e,t)}))}}{removeClientsideVehicles(){TriggerClientEvent(`${GetCurrentResourceName()}:ARM_remove-vehicles`,-1)}}{}{constructor(){super(),this.assignListeners()}assignListeners(){this.paydayInterval=setInterval((()=>{var t,n,a;if(0===(new Date).getMinutes()){const i=global.exports.businesses.getEntities(),s=global.exports.authentication.getAuthenticatedPlayers(),r=new Map([["electricity",(null===(t=i.find((e=>"Electricity Company"===e.name)))||void 0===t?void 0:t.productPrice)||100],["gas",(null===(n=i.find((e=>"Gas Company"===e.name)))||void 0===n?void 0:n.productPrice)||100],["phone",(null===(a=i.find((e=>"Phone Company"===e.name)))||void 0===a?void 0:a.productPrice)||100]]);s.forEach((t=>{var n,a;const s=(null===(n=global.exports.houses.getEntities().find((e=>e.owner===GetPlayerName(t))))||void 0===n?void 0:n.firstPurchasePrice)||0,o=Number(5e-4*s),l=(null===(a=i.find((e=>e.owner===GetPlayerName(t))))||void 0===a?void 0:a.firstPurchasePrice)||0,u=Number(5e-4*l),c=Math.floor(1e3+1e3*Math.random()),g=Math.max(0,Math.floor(1e-6*Number(global.exports.authentication.getPlayerInfo(t,"bank")))),d=0-(s>0?r.get("electricity"):0)-(s>0?r.get("gas"):0)-(s>0?o:0)-(l>0?r.get("electricity"):0)-(l>0?u:0)-0-0-r.get("phone");g>0&&global.exports.banking.addBankMoney(t,g,"Interest","Based on your savings",!0),global.exports.banking.addBankMoney(t,d,"Taxes","Services and insurances",!0),global.exports.banking.addBankMoney(t,c,"Payday","Your latest paycheck",!0);const v={gainings:[{name:"salary",value:"$"+e(c)},{name:"interest",value:`$${e(g)}`}],taxes:[{name:"house-energy",value:"-$"+e(r.get("electricity"))},{name:"house-gas",value:"-$"+e(r.get("gas"))},{name:"house-contributions",value:"-$"+e(o)},{name:"business-energy",value:"-$"+e(r.get("electricity"))},{name:"business-contributions",value:"-$"+e(u)},{name:"vehicle-insurance",value:"-$"+e(0)},{name:"vehicle-contributions",value:"-$"+e(0)},{name:"other_utilities-phone_service",value:"-$"+e(r.get("phone"))}],finalStats:[{name:"days",value:e(Number(Number(global.exports.authentication.getPlayerInfo(t,"hoursPlayed")).toFixed(1)))},{name:"new_balance",value:"$"+e(Number(global.exports.authentication.getPlayerInfo(t,"bank")))}]};TriggerClientEvent(`${GetCurrentResourceName()}:payday-given`,t,v)}))}}),6e4),onNet("onResourceStop",(e=>{e===GetCurrentResourceName()&&clearInterval(this.paydayInterval)}))}}})();